import{a as eo,b as io,c as no,d as ro}from"./chunk-ONWD6TM6.js";import{a as fi,b as _i,c as Se}from"./chunk-7L7VICD2.js";import{a as yt,b as Ct,c as Ve}from"./chunk-5K23OSKE.js";import"./chunk-X5YLR3NI.js";import{a as vt}from"./chunk-RAM765LW.js";import{$ as st,$a as K,$b as mt,Aa as lt,Ab as jr,B as P,Ba as $e,Bb as Be,Bc as ft,C as O,Ca as Ye,Cb as li,Cc as ui,Da as Mr,Dc as pi,Ea as p,Ec as _t,F as nn,Fa as j,Fc as gi,G as Pt,Ga as te,H as cr,Ha as an,Hb as At,Hc as hi,I as Fe,Ia as ke,Ib as ze,Ic as bt,J as ni,Ja as Pe,Jb as Gr,K as at,Ka as Oe,La as wr,Lb as Ur,M as dr,Ma as Tr,Mc as bi,N as re,Na as sn,Nb as Qr,O as Ke,Oa as Dt,Ob as ci,P as mr,Pa as Er,Q as ur,Qa as ln,R as We,Ra as It,S as pr,Sa as pe,Sb as qr,T as u,U as gr,Ub as Hr,V as hr,Va as ri,Vb as se,W as fr,Wa as ct,Wb as Kr,X as E,Xb as Ce,Ya as Le,Yb as le,Z as F,Za as ae,Zb as ce,_ as Te,_a as kr,_b as de,a as ve,aa as _r,ab as z,ac as ut,b as ir,ba as Ot,bb as Pr,bc as di,ca as br,cb as Or,da as M,dc as Wr,e as Jt,ea as Ee,eb as Dr,f as nr,fa as g,fb as Ir,g as ei,ga as Ne,gb as Ar,gc as pt,ha as oe,hb as oi,i as rr,ib as Rr,ic as $r,j as ti,jb as ye,k as or,ka as rn,kb as Fr,l as kt,lb as Nr,lc as dn,m as ar,mb as dt,mc as Yr,n as Re,nb as ai,nc as Xr,o as ii,oa as c,oc as Rt,p as sr,pa as d,pb as Lr,pc as Ft,qa as R,qc as Zr,r as A,ra as vr,rb as cn,rc as Jr,s as lr,sa as yr,sc as mn,t as ne,ta as L,tb as si,tc as gt,u as Me,ua as on,ub as Br,v as ue,va as w,w as we,wa as b,wc as mi,x as S,xa as Cr,xb as zr,xc as to,ya as Sr,yb as Vr,yc as ht,za as xr}from"./chunk-KOLL3EMX.js";import{a as ee,b as er,c as tr,i as ot}from"./chunk-ODN5LVDJ.js";var k=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(k||{}),ge="*";function oo(n,t=null){return{type:k.Sequence,steps:n,options:t}}function un(n){return{type:k.Style,styles:n,offset:null}}var De=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},St=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Nt="!";function ao(n){return new A(3e3,!1)}function Ea(){return new A(3100,!1)}function ka(){return new A(3101,!1)}function Pa(n){return new A(3001,!1)}function Oa(n){return new A(3003,!1)}function Da(n){return new A(3004,!1)}function lo(n,t){return new A(3005,!1)}function co(){return new A(3006,!1)}function mo(){return new A(3007,!1)}function uo(n,t){return new A(3008,!1)}function po(n){return new A(3002,!1)}function go(n,t,e,i,r){return new A(3010,!1)}function ho(){return new A(3011,!1)}function fo(){return new A(3012,!1)}function _o(){return new A(3200,!1)}function bo(){return new A(3202,!1)}function vo(){return new A(3013,!1)}function yo(n){return new A(3014,!1)}function Co(n){return new A(3015,!1)}function So(n){return new A(3016,!1)}function xo(n,t){return new A(3404,!1)}function Ia(n){return new A(3502,!1)}function Mo(n){return new A(3503,!1)}function wo(){return new A(3300,!1)}function To(n){return new A(3504,!1)}function Eo(n){return new A(3301,!1)}function ko(n,t){return new A(3302,!1)}function Po(n){return new A(3303,!1)}function Oo(n,t){return new A(3400,!1)}function Do(n){return new A(3401,!1)}function Io(n){return new A(3402,!1)}function Ao(n,t){return new A(3505,!1)}function Ie(n){switch(n.length){case 0:return new De;case 1:return n[0];default:return new St(n)}}function fn(n,t,e=new Map,i=new Map){let r=[],o=[],a=-1,s=null;if(t.forEach(l=>{let m=l.get("offset"),f=m==a,h=f&&s||new Map;l.forEach((D,T)=>{let v=T,x=D;if(T!=="offset")switch(v=n.normalizePropertyName(v,r),x){case Nt:x=e.get(T);break;case ge:x=i.get(T);break;default:x=n.normalizeStyleValue(T,v,x,r);break}h.set(v,x)}),f||o.push(h),s=h,a=m}),r.length)throw Ia(r);return o}function vi(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&pn(e,"start",n)));break;case"done":n.onDone(()=>i(e&&pn(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&pn(e,"destroy",n)));break}}function pn(n,t,e){let i=e.totalTime,r=!!e.disabled,o=yi(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,r),a=n._data;return a!=null&&(o._data=a),o}function yi(n,t,e,i,r="",o=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function X(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function _n(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var Aa=typeof document>"u"?null:document.documentElement;function Ci(n){let t=n.parentNode||n.host||null;return t===Aa?null:t}function Ra(n){return n.substring(1,6)=="ebkit"}var Xe=null,so=!1;function Ro(n){Xe||(Xe=Fa()||{},so=Xe.style?"WebkitAppearance"in Xe.style:!1);let t=!0;return Xe.style&&!Ra(n)&&(t=n in Xe.style,!t&&so&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Xe.style)),t}function Fa(){return typeof document<"u"?document.body:null}function bn(n,t){for(;t;){if(t===n)return!0;t=Ci(t)}return!1}function vn(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var Na=1e3,yn="{{",La="}}",Cn="ng-enter",Si="ng-leave",Lt="ng-trigger",Bt=".ng-trigger",Sn="ng-animating",xi=".ng-animating";function xe(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:gn(parseFloat(t[1]),t[2])}function gn(n,t){switch(t){case"s":return n*Na;default:return n}}function zt(n,t,e){return n.hasOwnProperty("duration")?n:Ba(n,t,e)}function Ba(n,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,a="";if(typeof n=="string"){let s=n.match(i);if(s===null)return t.push(ao(n)),{duration:0,delay:0,easing:""};r=gn(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(o=gn(parseFloat(l),s[4]));let m=s[5];m&&(a=m)}else r=n;if(!e){let s=!1,l=t.length;r<0&&(t.push(Ea()),s=!0),o<0&&(t.push(ka()),s=!0),s&&t.splice(l,0,ao(n))}return{duration:r,delay:o,easing:a}}function Fo(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function he(n,t,e){t.forEach((i,r)=>{let o=Mi(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function je(n,t){t.forEach((e,i)=>{let r=Mi(i);n.style[r]=""})}function xt(n){return Array.isArray(n)?n.length==1?n[0]:oo(n):n}function No(n,t,e){let i=t.params||{},r=xn(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(Pa(o))})}var hn=new RegExp(`${yn}\\s*(.+?)\\s*${La}`,"g");function xn(n){let t=[];if(typeof n=="string"){let e;for(;e=hn.exec(n);)t.push(e[1]);hn.lastIndex=0}return t}function Mt(n,t,e){let i=`${n}`,r=i.replace(hn,(o,a)=>{let s=t[a];return s==null&&(e.push(Oa(a)),s=""),s.toString()});return r==i?n:r}var za=/-+([a-z0-9])/g;function Mi(n){return n.replace(za,(...t)=>t[1].toUpperCase())}function Lo(n,t){return n===0||t===0}function Bo(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<t.length;o++){let a=t[o];r.forEach(s=>a.set(s,wi(n,s)))}}return t}function Z(n,t,e){switch(t.type){case k.Trigger:return n.visitTrigger(t,e);case k.State:return n.visitState(t,e);case k.Transition:return n.visitTransition(t,e);case k.Sequence:return n.visitSequence(t,e);case k.Group:return n.visitGroup(t,e);case k.Animate:return n.visitAnimate(t,e);case k.Keyframes:return n.visitKeyframes(t,e);case k.Style:return n.visitStyle(t,e);case k.Reference:return n.visitReference(t,e);case k.AnimateChild:return n.visitAnimateChild(t,e);case k.AnimateRef:return n.visitAnimateRef(t,e);case k.Query:return n.visitQuery(t,e);case k.Stagger:return n.visitStagger(t,e);default:throw Da(t.type)}}function wi(n,t){return window.getComputedStyle(n)[t]}var Vn=(()=>{class n{validateStyleProperty(e){return Ro(e)}containsElement(e,i){return bn(e,i)}getParentElement(e){return Ci(e)}query(e,i,r){return vn(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,a,s=[],l){return new De(r,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ne({token:n,factory:n.\u0275fac})}return n})(),Je=class{static NOOP=new Vn},et=class{};var Va=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Oi=class extends et{normalizePropertyName(t,e){return Mi(t)}normalizeStyleValue(t,e,i,r){let o="",a=i.toString().trim();if(Va.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&r.push(lo(t,i))}return a+o}};var Di="*";function ja(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>Ga(i,e,t)):e.push(n),e}function Ga(n,t,e){if(n[0]==":"){let l=Ua(n,e);if(typeof l=="function"){t.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(Co(n)),t;let r=i[1],o=i[2],a=i[3];t.push(zo(r,a));let s=r==Di&&a==Di;o[0]=="<"&&!s&&t.push(zo(a,r))}function Ua(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(So(n)),"* => *"}}var Ti=new Set(["true","1"]),Ei=new Set(["false","0"]);function zo(n,t){let e=Ti.has(n)||Ei.has(n),i=Ti.has(t)||Ei.has(t);return(r,o)=>{let a=n==Di||n==r,s=t==Di||t==o;return!a&&e&&typeof r=="boolean"&&(a=r?Ti.has(n):Ei.has(n)),!s&&i&&typeof o=="boolean"&&(s=o?Ti.has(t):Ei.has(t)),a&&s}}var $o=":self",Qa=new RegExp(`s*${$o}s*,?`,"g");function Yo(n,t,e,i){return new Pn(n).build(t,e,i)}var Vo="",Pn=class{_driver;constructor(t){this._driver=t}build(t,e,i){let r=new On(e);return this._resetContextStyleTimingState(r),Z(this,xt(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=Vo,t.collectedStyles=new Map,t.collectedStyles.set(Vo,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0,o=[],a=[];return t.name.charAt(0)=="@"&&e.errors.push(co()),t.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==k.State){let l=s,m=l.name;m.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,o.push(this.visitState(l,e))}),l.name=m}else if(s.type==k.Transition){let l=this.visitTransition(s,e);i+=l.queryCount,r+=l.depCount,a.push(l)}else e.errors.push(mo())}),{type:k.Trigger,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let o=new Set,a=r||{};i.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{xn(l).forEach(m=>{a.hasOwnProperty(m)||o.add(m)})})}),o.size&&e.errors.push(uo(t.name,[...o.values()]))}return{type:k.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=Z(this,xt(t.animation),e),r=ja(t.expr,e.errors);return{type:k.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ze(t.options)}}visitSequence(t,e){return{type:k.Sequence,steps:t.steps.map(i=>Z(this,i,e)),options:Ze(t.options)}}visitGroup(t,e){let i=e.currentTime,r=0,o=t.steps.map(a=>{e.currentTime=i;let s=Z(this,a,e);return r=Math.max(r,e.currentTime),s});return e.currentTime=r,{type:k.Group,steps:o,options:Ze(t.options)}}visitAnimate(t,e){let i=Wa(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:un({});if(o.type==k.Keyframes)r=this.visitKeyframes(o,e);else{let a=t.styles,s=!1;if(!a){s=!0;let m={};i.easing&&(m.easing=i.easing),a=un(m)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(a,e);l.isEmptyStep=s,r=l}return e.currentAnimateTimings=null,{type:k.Animate,timings:i,style:r,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let s of r)typeof s=="string"?s===ge?i.push(s):e.errors.push(po(s)):i.push(new Map(Object.entries(s)));let o=!1,a=null;return i.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o)){for(let l of s.values())if(l.toString().indexOf(yn)>=0){o=!0;break}}}),{type:k.Style,styles:i,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,l)=>{let m=e.collectedStyles.get(e.currentQuerySelector),f=m.get(l),h=!0;f&&(o!=r&&o>=f.startTime&&r<=f.endTime&&(e.errors.push(go(l,f.startTime,f.endTime,o,r)),h=!1),o=f.startTime),h&&m.set(l,{startTime:o,endTime:r}),e.options&&No(s,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:k.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(ho()),i;let r=1,o=0,a=[],s=!1,l=!1,m=0,f=t.steps.map(V=>{let G=this._makeStyleAst(V,e),W=G.offset!=null?G.offset:Ka(G.styles),Q=0;return W!=null&&(o++,Q=G.offset=W),l=l||Q<0||Q>1,s=s||Q<m,m=Q,a.push(Q),G});l&&e.errors.push(fo()),s&&e.errors.push(_o());let h=t.steps.length,D=0;o>0&&o<h?e.errors.push(bo()):o==0&&(D=r/(h-1));let T=h-1,v=e.currentTime,x=e.currentAnimateTimings,N=x.duration;return f.forEach((V,G)=>{let W=D>0?G==T?1:D*G:a[G],Q=W*N;e.currentTime=v+x.delay+Q,x.duration=Q,this._validateStyleAst(V,e),V.offset=W,i.styles.push(V)}),i}visitReference(t,e){return{type:k.Reference,animation:Z(this,xt(t.animation),e),options:Ze(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:k.AnimateChild,options:Ze(t.options)}}visitAnimateRef(t,e){return{type:k.AnimateRef,animation:this.visitReference(t.animation,e),options:Ze(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,a]=qa(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,X(e.collectedStyles,e.currentQuerySelector,new Map);let s=Z(this,xt(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:k.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:Ze(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(vo());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:zt(t.timings,e.errors,!0);return{type:k.Stagger,animation:Z(this,xt(t.animation),e),timings:i,options:null}}};function qa(n){let t=!!n.split(/\s*,\s*/).find(e=>e==$o);return t&&(n=n.replace(Qa,"")),n=n.replace(/@\*/g,Bt).replace(/@\w+/g,e=>Bt+"-"+e.slice(1)).replace(/:animating/g,xi),[n,t]}function Ha(n){return n?ee({},n):null}var On=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function Ka(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function Wa(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=zt(n,t).duration;return Mn(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Mn(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=zt(e,t);return Mn(r.duration,r.delay,r.easing)}function Ze(n){return n?(n=ee({},n),n.params&&(n.params=Ha(n.params))):n={},n}function Mn(n,t,e){return{duration:n,delay:t,easing:e}}function jn(n,t,e,i,r,o,a=null,s=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var jt=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},$a=1,Ya=":enter",Xa=new RegExp(Ya,"g"),Za=":leave",Ja=new RegExp(Za,"g");function Xo(n,t,e,i,r,o=new Map,a=new Map,s,l,m=[]){return new Dn().buildKeyframes(n,t,e,i,r,o,a,s,l,m)}var Dn=class{buildKeyframes(t,e,i,r,o,a,s,l,m,f=[]){m=m||new jt;let h=new In(t,e,m,r,o,f,[]);h.options=l;let D=l.delay?xe(l.delay):0;h.currentTimeline.delayNextStep(D),h.currentTimeline.setStyles([a],null,h.errors,l),Z(this,i,h);let T=h.timelines.filter(v=>v.containsAnimation());if(T.length&&s.size){let v;for(let x=T.length-1;x>=0;x--){let N=T[x];if(N.element===e){v=N;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([s],null,h.errors,l)}return T.length?T.map(v=>v.buildKeyframes()):[jn(e,[],[],[],0,D,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let r of t){let o=r?.delay;if(o){let a=typeof o=="number"?o:xe(Mt(o,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime,a=i.duration!=null?xe(i.duration):null,s=i.delay!=null?xe(i.delay):null;return a!==0&&t.forEach(l=>{let m=e.appendInstructionToTimeline(l,a,s);o=Math.max(o,m.duration+m.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Z(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==k.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ii);let a=xe(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Z(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?xe(t.options.delay):0;t.steps.forEach(a=>{let s=e.createSubContext(t.options);o&&s.delayNextStep(o),Z(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,r=e.params?Mt(i,e.params,e.errors):i;return zt(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let o=t.style;o.type==k.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,s=e.createSubContext().currentTimeline;s.easing=i.easing,t.styles.forEach(l=>{let m=l.offset||0;s.forwardTime(m*o),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?xe(r.delay):0;o&&(e.previousNode.type===k.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ii);let a=i,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((m,f)=>{e.currentQueryIndex=f;let h=e.createSubContext(t.options,m);o&&h.delayNextStep(o),m===e.element&&(l=h.currentTimeline),Z(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe();let D=h.currentTimeline.currentTime;a=Math.max(a,D)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,r=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1),l=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=i.currentStaggerTime;break}let f=e.currentTimeline;l&&f.delayNextStep(l);let h=f.currentTime;Z(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}},Ii={},In=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Ii;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,r,o,a,s,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.currentTimeline=l||new Ai(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=xe(i.duration)),i.delay!=null&&(r.delay=xe(i.delay));let o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=Mt(o[s],a,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){let r=e||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Ii,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new An(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,a){let s=[];if(r&&s.push(this.element),t.length>0){t=t.replace(Xa,"."+this._enterClassName),t=t.replace(Ja,"."+this._leaveClassName);let l=i!=1,m=this._driver.query(this.element,t,l);i!==0&&(m=i<0?m.slice(m.length+i,m.length):m.slice(0,i)),s.push(...m)}return!o&&s.length==0&&a.push(yo(e)),s}},Ai=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=$a,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ge),this._currentKeyframe.set(e,ge);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},a=es(t,this._globalTimelineStyles);for(let[s,l]of a){let m=Mt(l,o,i);this._pendingStyles.set(s,m),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??ge),this._updateStyle(s,m)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((s,l)=>{let m=new Map([...this._backFill,...s]);m.forEach((f,h)=>{f===Nt?t.add(h):f===ge&&e.add(h)}),i||m.set("offset",l/this.duration),r.push(m)});let o=[...t.values()],a=[...e.values()];if(i){let s=r[0],l=new Map(s);s.set("offset",0),l.set("offset",1),r=[s,l]}return jn(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},An=class extends Ai{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,r,o,a,s=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],a=i+e,s=e/a,l=new Map(t[0]);l.set("offset",0),o.push(l);let m=new Map(t[0]);m.set("offset",jo(s)),o.push(m);let f=t.length-1;for(let h=1;h<=f;h++){let D=new Map(t[h]),T=D.get("offset"),v=e+T*i;D.set("offset",jo(v/a)),o.push(D)}i=a,e=0,r="",t=o}return jn(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function jo(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function es(n,t){let e=new Map,i;return n.forEach(r=>{if(r==="*"){i??=t.keys();for(let o of i)e.set(o,ge)}else for(let[o,a]of r)e.set(o,a)}),e}function Go(n,t,e,i,r,o,a,s,l,m,f,h,D){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:l,preStyleProps:m,postStyleProps:f,totalTime:h,errors:D}}var wn={},Ri=class{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return ts(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,a,s,l,m,f){let h=[],D=this.ast.options&&this.ast.options.params||wn,T=s&&s.params||wn,v=this.buildStyles(i,T,h),x=l&&l.params||wn,N=this.buildStyles(r,x,h),V=new Set,G=new Map,W=new Map,Q=r==="void",nt={params:Zo(x,D),delay:this.ast.options?.delay},_e=f?[]:Xo(t,e,this.ast.animation,o,a,v,N,nt,m,h),$=0;return _e.forEach(Y=>{$=Math.max(Y.duration+Y.delay,$)}),h.length?Go(e,this._triggerName,i,r,Q,v,N,[],[],G,W,$,h):(_e.forEach(Y=>{let Qe=Y.element,rt=X(G,Qe,new Set);Y.preStyleProps.forEach(qe=>rt.add(qe));let Yn=X(W,Qe,new Set);Y.postStyleProps.forEach(qe=>Yn.add(qe)),Qe!==e&&V.add(Qe)}),Go(e,this._triggerName,i,r,Q,v,N,_e,[...V.values()],G,W,$))}};function ts(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}function Zo(n,t){let e=ee({},t);return Object.entries(n).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var Rn=class{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,r=Zo(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,s)=>{a&&(a=Mt(a,r,e));let l=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,l,a,e),i.set(s,a)})}),i}};function is(n,t,e){return new Fn(n,t,e)}var Fn=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new Rn(r.style,o,i))}),Uo(this.states,"true","1"),Uo(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Ri(t,r,this.states))}),this.fallbackTransition=ns(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function ns(n,t,e){let i=[(a,s)=>!0],r={type:k.Sequence,steps:[],options:null},o={type:k.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Ri(n,o,t)}function Uo(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var rs=new jt,Nn=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){let i=[],r=[],o=Yo(this._driver,e,i,r);if(i.length)throw Mo(i);this._animations.set(t,o)}_buildPlayer(t,e,i){let r=t.element,o=fn(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let r=[],o=this._animations.get(t),a,s=new Map;if(o?(a=Xo(this._driver,e,o,Cn,Si,new Map,new Map,i,rs,r),a.forEach(f=>{let h=X(s,f.element,new Map);f.postStyleProps.forEach(D=>h.set(D,null))})):(r.push(wo()),a=[]),r.length)throw To(r);s.forEach((f,h)=>{f.forEach((D,T)=>{f.set(T,this._driver.computeStyle(h,T,ge))})});let l=a.map(f=>{let h=s.get(f.element);return this._buildPlayer(f,new Map,h)}),m=Ie(l);return this._playersById.set(t,m),m.onDestroy(()=>this.destroy(t)),this.players.push(m),m}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Eo(t);return e}listen(t,e,i,r){let o=yi(e,"","","");return vi(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let a=r[0]||{};this.create(t,e,a);return}let o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},Qo="ng-animate-queued",os=".ng-animate-queued",Tn="ng-animate-disabled",as=".ng-animate-disabled",ss="ng-star-inserted",ls=".ng-star-inserted",cs=[],Jo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ds={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fe="__ng_removed",Gt=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=us(r),i){let o=t,{value:a}=o,s=tr(o,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},Vt="void",En=new Gt(Vt),Ln=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,me(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw ko(i,e);if(i==null||i.length==0)throw Po(e);if(!ps(i))throw Oo(i,e);let o=X(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};o.push(a);let s=X(this._engine.statesByElement,t,new Map);return s.has(e)||(me(t,Lt),me(t,Lt+"-"+e),s.set(e,En)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw Do(t);return e}trigger(t,e,i,r=!0){let o=this._getTrigger(e),a=new Ut(this.id,e,t),s=this._engine.statesByElement.get(t);s||(me(t,Lt),me(t,Lt+"-"+e),this._engine.statesByElement.set(t,s=new Map));let l=s.get(e),m=new Gt(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&m.absorbOptions(l.options),s.set(e,m),l||(l=En),!(m.value===Vt)&&l.value===m.value){if(!fs(l.params,m.params)){let x=[],N=o.matchStyles(l.value,l.params,x),V=o.matchStyles(m.value,m.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{je(t,N),he(t,V)})}return}let D=X(this._engine.playersByElement,t,[]);D.forEach(x=>{x.namespaceId==this.id&&x.triggerName==e&&x.queued&&x.destroy()});let T=o.matchTransition(l.value,m.value,t,m.params),v=!1;if(!T){if(!r)return;T=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:T,fromState:l,toState:m,player:a,isFallbackTransition:v}),v||(me(t,Qo),a.onStart(()=>{wt(t,Qo)})),a.onDone(()=>{let x=this.players.indexOf(a);x>=0&&this.players.splice(x,1);let N=this._engine.playersByElement.get(t);if(N){let V=N.indexOf(a);V>=0&&N.splice(V,1)}}),this.players.push(a),D.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,Bt,!0);i.forEach(r=>{if(r[fe])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){let o=this._engine.statesByElement.get(t),a=new Map;if(o){let s=[];if(o.forEach((l,m)=>{if(a.set(m,l.value),this._triggers.has(m)){let f=this.trigger(t,m,Vt,r);f&&s.push(f)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&Ie(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let r=new Set;e.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let l=this._triggers.get(a).fallbackTransition,m=i.get(a)||En,f=new Gt(Vt),h=new Ut(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:l,fromState:m,toState:f,player:h,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{let o=t[fe];(!o||o===Jo)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){me(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==i.triggerName){let l=yi(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,vi(i.player,s.phase,l,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let o=i.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},Bn=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new Ln(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){let l=r.get(s);if(l){let m=i.indexOf(l);i.splice(m+1,0,t),a=!0;break}s=this.driver.getParentElement(s)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,i,r){if(ki(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!ki(e))return;let o=e[fe];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){let a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),me(t,Tn)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),wt(t,Tn))}removeNode(t,e,i){if(ki(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[fe]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return ki(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Bt,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,xi,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ie(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[fe];if(e&&e.setForRemoval){if(t[fe]=Jo,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Tn)&&this.markElementAsDisabled(t,!1),this.driver.query(t,as,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];me(r,ss)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ie(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw Io(t)}_flushAnimations(t,e){let i=new jt,r=[],o=new Map,a=[],s=new Map,l=new Map,m=new Map,f=new Set;this.disabledNodes.forEach(_=>{f.add(_);let y=this.driver.query(_,os,!0);for(let C=0;C<y.length;C++)f.add(y[C])});let h=this.bodyNode,D=Array.from(this.statesByElement.keys()),T=Ko(D,this.collectedEnterElements),v=new Map,x=0;T.forEach((_,y)=>{let C=Cn+x++;v.set(y,C),_.forEach(I=>me(I,C))});let N=[],V=new Set,G=new Set;for(let _=0;_<this.collectedLeaveElements.length;_++){let y=this.collectedLeaveElements[_],C=y[fe];C&&C.setForRemoval&&(N.push(y),V.add(y),C.hasAnimation?this.driver.query(y,ls,!0).forEach(I=>V.add(I)):G.add(y))}let W=new Map,Q=Ko(D,Array.from(V));Q.forEach((_,y)=>{let C=Si+x++;W.set(y,C),_.forEach(I=>me(I,C))}),t.push(()=>{T.forEach((_,y)=>{let C=v.get(y);_.forEach(I=>wt(I,C))}),Q.forEach((_,y)=>{let C=W.get(y);_.forEach(I=>wt(I,C))}),N.forEach(_=>{this.processLeaveNode(_)})});let nt=[],_e=[];for(let _=this._namespaceList.length-1;_>=0;_--)this._namespaceList[_].drainQueuedTransitions(e).forEach(C=>{let I=C.player,U=C.element;if(nt.push(I),this.collectedEnterElements.length){let H=U[fe];if(H&&H.setForMove){if(H.previousTriggersValues&&H.previousTriggersValues.has(C.triggerName)){let He=H.previousTriggersValues.get(C.triggerName),ie=this.statesByElement.get(C.element);if(ie&&ie.has(C.triggerName)){let Zt=ie.get(C.triggerName);Zt.value=He,ie.set(C.triggerName,Zt)}}I.destroy();return}}let be=!h||!this.driver.containsElement(h,U),J=W.get(U),Ae=v.get(U),B=this._buildInstruction(C,i,Ae,J,be);if(B.errors&&B.errors.length){_e.push(B);return}if(be){I.onStart(()=>je(U,B.fromStyles)),I.onDestroy(()=>he(U,B.toStyles)),r.push(I);return}if(C.isFallbackTransition){I.onStart(()=>je(U,B.fromStyles)),I.onDestroy(()=>he(U,B.toStyles)),r.push(I);return}let Jn=[];B.timelines.forEach(H=>{H.stretchStartingKeyframe=!0,this.disabledNodes.has(H.element)||Jn.push(H)}),B.timelines=Jn,i.append(U,B.timelines);let Ta={instruction:B,player:I,element:U};a.push(Ta),B.queriedElements.forEach(H=>X(s,H,[]).push(I)),B.preStyleProps.forEach((H,He)=>{if(H.size){let ie=l.get(He);ie||l.set(He,ie=new Set),H.forEach((Zt,tn)=>ie.add(tn))}}),B.postStyleProps.forEach((H,He)=>{let ie=m.get(He);ie||m.set(He,ie=new Set),H.forEach((Zt,tn)=>ie.add(tn))})});if(_e.length){let _=[];_e.forEach(y=>{_.push(Ao(y.triggerName,y.errors))}),nt.forEach(y=>y.destroy()),this.reportError(_)}let $=new Map,Y=new Map;a.forEach(_=>{let y=_.element;i.has(y)&&(Y.set(y,y),this._beforeAnimationBuild(_.player.namespaceId,_.instruction,$))}),r.forEach(_=>{let y=_.element;this._getPreviousPlayers(y,!1,_.namespaceId,_.triggerName,null).forEach(I=>{X($,y,[]).push(I),I.destroy()})});let Qe=N.filter(_=>Wo(_,l,m)),rt=new Map;Ho(rt,this.driver,G,m,ge).forEach(_=>{Wo(_,l,m)&&Qe.push(_)});let qe=new Map;T.forEach((_,y)=>{Ho(qe,this.driver,new Set(_),l,Nt)}),Qe.forEach(_=>{let y=rt.get(_),C=qe.get(_);rt.set(_,new Map([...y?.entries()??[],...C?.entries()??[]]))});let en=[],Xn=[],Zn={};a.forEach(_=>{let{element:y,player:C,instruction:I}=_;if(i.has(y)){if(f.has(y)){C.onDestroy(()=>he(y,I.toStyles)),C.disabled=!0,C.overrideTotalTime(I.totalTime),r.push(C);return}let U=Zn;if(Y.size>1){let J=y,Ae=[];for(;J=J.parentNode;){let B=Y.get(J);if(B){U=B;break}Ae.push(J)}Ae.forEach(B=>Y.set(B,U))}let be=this._buildAnimation(C.namespaceId,I,$,o,qe,rt);if(C.setRealPlayer(be),U===Zn)en.push(C);else{let J=this.playersByElement.get(U);J&&J.length&&(C.parentPlayer=Ie(J)),r.push(C)}}else je(y,I.fromStyles),C.onDestroy(()=>he(y,I.toStyles)),Xn.push(C),f.has(y)&&r.push(C)}),Xn.forEach(_=>{let y=o.get(_.element);if(y&&y.length){let C=Ie(y);_.setRealPlayer(C)}}),r.forEach(_=>{_.parentPlayer?_.syncPlayerEvents(_.parentPlayer):_.destroy()});for(let _=0;_<N.length;_++){let y=N[_],C=y[fe];if(wt(y,Si),C&&C.hasAnimation)continue;let I=[];if(s.size){let be=s.get(y);be&&be.length&&I.push(...be);let J=this.driver.query(y,xi,!0);for(let Ae=0;Ae<J.length;Ae++){let B=s.get(J[Ae]);B&&B.length&&I.push(...B)}}let U=I.filter(be=>!be.destroyed);U.length?gs(this,y,U):this.processLeaveNode(y)}return N.length=0,en.forEach(_=>{this.players.push(_),_.onDone(()=>{_.destroy();let y=this.players.indexOf(_);this.players.splice(y,1)}),_.play()}),en}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let a=[];if(e){let s=this.playersByQueriedElement.get(t);s&&(a=s)}else{let s=this.playersByElement.get(t);if(s){let l=!o||o==Vt;s.forEach(m=>{m.queued||!l&&m.triggerName!=r||a.push(m)})}}return(i||r)&&(a=a.filter(s=>!(i&&i!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(t,e,i){let r=e.triggerName,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let m=l.element,f=m!==o,h=X(i,m,[]);this._getPreviousPlayers(m,f,a,s,e.toState).forEach(T=>{let v=T.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),T.destroy(),h.push(T)})}je(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,a){let s=e.triggerName,l=e.element,m=[],f=new Set,h=new Set,D=e.timelines.map(v=>{let x=v.element;f.add(x);let N=x[fe];if(N&&N.removedBeforeQueried)return new De(v.duration,v.delay);let V=x!==l,G=hs((i.get(x)||cs).map($=>$.getRealPlayer())).filter($=>{let Y=$;return Y.element?Y.element===x:!1}),W=o.get(x),Q=a.get(x),nt=fn(this._normalizer,v.keyframes,W,Q),_e=this._buildPlayer(v,nt,G);if(v.subTimeline&&r&&h.add(x),V){let $=new Ut(t,s,x);$.setRealPlayer(_e),m.push($)}return _e});m.forEach(v=>{X(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>ms(this.playersByQueriedElement,v.element,v))}),f.forEach(v=>me(v,Sn));let T=Ie(D);return T.onDestroy(()=>{f.forEach(v=>wt(v,Sn)),he(l,e.toStyles)}),h.forEach(v=>{X(r,v,[]).push(T)}),T}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new De(t.duration,t.delay)}},Ut=class{namespaceId;triggerName;element;_player=new De;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>vi(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){X(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function ms(n,t,e){let i=n.get(t);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&n.delete(t)}return i}function us(n){return n??null}function ki(n){return n&&n.nodeType===1}function ps(n){return n=="start"||n=="done"}function qo(n,t){let e=n.style.display;return n.style.display=t??"none",e}function Ho(n,t,e,i,r){let o=[];e.forEach(l=>o.push(qo(l)));let a=[];i.forEach((l,m)=>{let f=new Map;l.forEach(h=>{let D=t.computeStyle(m,h,r);f.set(h,D),(!D||D.length==0)&&(m[fe]=ds,a.push(m))}),n.set(m,f)});let s=0;return e.forEach(l=>qo(l,o[s++])),a}function Ko(n,t){let e=new Map;if(n.forEach(s=>e.set(s,[])),t.length==0)return e;let i=1,r=new Set(t),o=new Map;function a(s){if(!s)return i;let l=o.get(s);if(l)return l;let m=s.parentNode;return e.has(m)?l=m:r.has(m)?l=i:l=a(m),o.set(s,l),l}return t.forEach(s=>{let l=a(s);l!==i&&e.get(l).push(s)}),e}function me(n,t){n.classList?.add(t)}function wt(n,t){n.classList?.remove(t)}function gs(n,t,e){Ie(e).onDone(()=>n.processLeaveNode(t))}function hs(n){let t=[];return ea(n,t),t}function ea(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof St?ea(i.players,t):t.push(i)}}function fs(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}function Wo(n,t,e){let i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}var Tt=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new Bn(t.body,e,i),this._timelineEngine=new Nn(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){let a=t+"-"+r,s=this._triggerCache[a];if(!s){let l=[],m=[],f=Yo(this._driver,o,l,m);if(l.length)throw xo(r,l);s=is(r,f,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if(i.charAt(0)=="@"){let[o,a]=_n(i),s=r;this._timelineEngine.command(o,e,a,s)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if(i.charAt(0)=="@"){let[a,s]=_n(i);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function _s(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=kn(t[0]),t.length>1&&(i=kn(t[t.length-1]))):t instanceof Map&&(e=kn(t)),e||i?new bs(n,e,i):null}var bs=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&he(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(he(this._element,this._initialStyles),this._endStyles&&(he(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(je(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(je(this._element,this._endStyles),this._endStyles=null),he(this._element,this._initialStyles),this._state=3)}}return n})();function kn(n){let t=null;return n.forEach((e,i)=>{vs(i)&&(t=t||new Map,t.set(i,e))}),t}function vs(n){return n==="display"||n==="position"}var Fi=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:wi(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Ni=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return bn(t,e)}getParentElement(t){return Ci(t)}query(t,e,i){return vn(t,e,i)}computeStyle(t,e,i){return wi(t,e)}animate(t,e,i,r,o,a=[]){let s=r==0?"both":"forwards",l={duration:i,delay:r,fill:s};o&&(l.easing=o);let m=new Map,f=a.filter(T=>T instanceof Fi);Lo(i,r)&&f.forEach(T=>{T.currentSnapshot.forEach((v,x)=>m.set(x,v))});let h=Fo(e).map(T=>new Map(T));h=Bo(t,h,m);let D=_s(t,h);return new Fi(t,h,l,D)}};var Pi="@",ta="@.disabled",Li=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==Pi&&e==ta?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,r){return this.delegate.listen(t,e,i,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},zn=class extends Li{factory;constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==Pi?e.charAt(1)=="."&&e==ta?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,r){if(e.charAt(0)==Pi){let o=ys(t),a=e.slice(1),s="";return a.charAt(0)!=Pi&&([a,s]=Cs(a)),this.engine.listen(this.namespaceId,o,a,s,l=>{let m=l._data||-1;this.factory.scheduleListenerCallback(m,i,l)})}return this.delegate.listen(t,e,i,r)}};function ys(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Cs(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var Bi=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){let i="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let m=this._rendererCache,f=m.get(r);if(!f){let h=()=>m.delete(r);f=new Li(i,r,this.engine,h),m.set(r,f)}return f}let o=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);let s=m=>{Array.isArray(m)?m.forEach(s):this.engine.registerTrigger(o,a,t,m.name,m)};return e.data.animation.forEach(s),new zn(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var xs=(()=>{class n extends Tt{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(we(ri),we(Je),we(et))};static \u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();function Ms(){return new Oi}function ws(n,t,e){return new Bi(n,t,e)}var ia=[{provide:et,useFactory:Ms},{provide:Tt,useClass:xs},{provide:hr,useFactory:ws,deps:[Pr,Tt,ni]}],rc=[{provide:Je,useClass:Vn},{provide:Ke,useValue:"NoopAnimations"},...ia],Ts=[{provide:Je,useFactory:()=>new Ni},{provide:Ke,useFactory:()=>"BrowserAnimations"},...ia];function na(){return mr("NgEagerAnimations"),[...Ts]}var Es=["button"],ks=["*"];function Ps(n,t){if(n&1&&(c(0,"div",2),R(1,"mat-pseudo-checkbox",6),d()),n&2){let e=b();u(),g("disabled",e.disabled)}}var ra=new ue("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:Os});function Os(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var oa=new ue("MatButtonToggleGroup"),Ds={provide:to,useExisting:lr(()=>Gn),multi:!0},zi=class{source;value;constructor(t,e){this.source=t,this.value=e}},Gn=(()=>{class n{_changeDetector=S(It);_dir=S(At,{optional:!0});_multiple=!1;_disabled=!1;_disabledInteractive=!1;_selectionModel;_rawValue;_controlValueAccessorChangeFn=()=>{};_onTouched=()=>{};_buttonToggles;appearance;get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}_name=S(Be).getId("mat-button-toggle-group-");vertical;get value(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(i=>i.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}valueChange=new Fe;get selected(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=e,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}change=new Fe;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._markButtonsForCheck()}_hideSingleSelectionIndicator;get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(e){this._hideMultipleSelectionIndicator=e,this._markButtonsForCheck()}_hideMultipleSelectionIndicator;constructor(){let e=S(ra,{optional:!0});this.appearance=e&&e.appearance?e.appearance:"standard",this.hideSingleSelectionIndicator=e?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=e?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new eo(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked)),this.multiple||this._initializeTabIndex()}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_keydown(e){if(this.multiple||this.disabled)return;let r=e.target.id,o=this._buttonToggles.toArray().findIndex(s=>s.buttonId===r),a=null;switch(e.keyCode){case 32:case 13:a=this._buttonToggles.get(o)||null;break;case 38:a=this._getNextButton(o,-1);break;case 37:a=this._getNextButton(o,this.dir==="ltr"?-1:1);break;case 40:a=this._getNextButton(o,1);break;case 39:a=this._getNextButton(o,this.dir==="ltr"?1:-1);break;default:return}a&&(e.preventDefault(),a._onButtonClick(),a.focus())}_emitChangeEvent(e){let i=new zi(e,this.value);this._rawValue=i.value,this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(e,i,r=!1,o=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(e):this._selectionModel.deselect(e):o=!0,o?Promise.resolve().then(()=>this._updateModelValue(e,r)):this._updateModelValue(e,r)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>e.value!=null&&i===e.value):e.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(e=>{e.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let e=0;e<this._buttonToggles.length;e++){let i=this._buttonToggles.get(e);if(!i.disabled){i.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(e,i){let r=this._buttonToggles;for(let o=1;o<=r.length;o++){let a=(e+i*o+r.length)%r.length,s=r.get(a);if(s&&!s.disabled)return s}return null}_setSelectionByValue(e){if(this._rawValue=e,!this._buttonToggles)return;let i=this._buttonToggles.toArray();if(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(r=>this._selectValue(r,i))):(this._clearSelection(),this._selectValue(e,i)),!this.multiple&&i.every(r=>r.tabIndex===-1)){for(let r of i)if(!r.disabled){r.tabIndex=0;break}}}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>{e.checked=!1,this.multiple||(e.tabIndex=-1)})}_selectValue(e,i){for(let r of i)if(r.value===e){r.checked=!0,this._selectionModel.select(r),this.multiple||(r.tabIndex=0);break}}_updateModelValue(e,i){i&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}static \u0275fac=function(i){return new(i||n)};static \u0275dir=st({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(i,r,o){if(i&1&&xr(o,Vi,5),i&2){let a;$e(a=Ye())&&(r._buttonToggles=a)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(i,r){i&1&&w("keydown",function(a){return r._keydown(a)}),i&2&&(Ee("role",r.multiple?"group":"radiogroup")("aria-disabled",r.disabled),oe("mat-button-toggle-vertical",r.vertical)("mat-button-toggle-group-appearance-standard",r.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",pe],value:"value",multiple:[2,"multiple","multiple",pe],disabled:[2,"disabled","disabled",pe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",pe],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",pe],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",pe]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[wr([Ds,{provide:oa,useExisting:n}])]})}return n})(),Vi=(()=>{class n{_changeDetectorRef=S(It);_elementRef=S(at);_focusMonitor=S(si);_idGenerator=S(Be);_animationMode=S(Ke,{optional:!0});_checked=!1;ariaLabel;ariaLabelledby=null;_buttonElement;buttonToggleGroup;get buttonId(){return`${this.id}-button`}id;name;value;get tabIndex(){return this._tabIndex}set tabIndex(e){e!==this._tabIndex&&(this._tabIndex=e,this._markForCheck())}_tabIndex;disableRipple;get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}_appearance;get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=e}_disabled=!1;get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}_disabledInteractive;change=new Fe;constructor(){S(Br).load(Hr);let e=S(oa,{optional:!0}),i=S(new cr("tabindex"),{optional:!0})||"",r=S(ra,{optional:!0});this._tabIndex=parseInt(i)||0,this.buttonToggleGroup=e,this.appearance=r&&r.appearance?r.appearance:"standard",this.disabledInteractive=r?.disabledInteractive??!1}ngOnInit(){let e=this.buttonToggleGroup;this.id=this.id||this._idGenerator.getId("mat-button-toggle-"),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._animationMode!=="NoopAnimations"&&this._elementRef.nativeElement.classList.add("mat-button-toggle-animations-enabled"),this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){if(this.disabled)return;let e=this.isSingleSelector()?!0:!this._checked;if(e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let i=this.buttonToggleGroup._buttonToggles.find(r=>r.tabIndex===0);i&&(i.tabIndex=-1),this.tabIndex=0}this.change.emit(new zi(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=F({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(i,r){if(i&1&&lt(Es,5),i&2){let o;$e(o=Ye())&&(r._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(i,r){i&1&&w("focus",function(){return r.focus()}),i&2&&(Ee("aria-label",null)("aria-labelledby",null)("id",r.id)("name",null),oe("mat-button-toggle-standalone",!r.buttonToggleGroup)("mat-button-toggle-checked",r.checked)("mat-button-toggle-disabled",r.disabled)("mat-button-toggle-disabled-interactive",r.disabledInteractive)("mat-button-toggle-appearance-standard",r.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",pe],appearance:"appearance",checked:[2,"checked","checked",pe],disabled:[2,"disabled","disabled",pe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",pe]},outputs:{change:"change"},exportAs:["matButtonToggle"],ngContentSelectors:ks,decls:7,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-checkbox-wrapper"],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"],["state","checked","aria-hidden","true","appearance","minimal",3,"disabled"]],template:function(i,r){if(i&1){let o=L();Cr(),c(0,"button",1,0),w("click",function(){return P(o),O(r._onButtonClick())}),M(2,Ps,2,1,"div",2),c(3,"span",3),Sr(4),d()(),R(5,"span",4)(6,"span",5)}if(i&2){let o=Mr(1);g("id",r.buttonId)("disabled",r.disabled&&!r.disabledInteractive||null),Ee("role",r.isSingleSelector()?"radio":"button")("tabindex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("aria-pressed",r.isSingleSelector()?null:r.checked)("aria-checked",r.isSingleSelector()?r.checked:null)("name",r._getButtonName())("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),u(2),rn(r.buttonToggleGroup&&(!r.buttonToggleGroup.multiple&&!r.buttonToggleGroup.hideSingleSelectionIndicator||r.buttonToggleGroup.multiple&&!r.buttonToggleGroup.hideMultipleSelectionIndicator)?2:-1),u(4),g("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)}},dependencies:[qr,io],styles:[`.mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}@media(forced-colors: active){.mat-button-toggle-standalone,.mat-button-toggle-group{outline:solid 1px}}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}@media(forced-colors: active){.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{outline:0}}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checkbox-wrapper{display:inline-block;justify-content:flex-start;align-items:center;width:0;height:18px;line-height:18px;overflow:hidden;box-sizing:border-box;position:absolute;top:50%;left:16px;transform:translate3d(0, -50%, 0)}[dir=rtl] .mat-button-toggle-checkbox-wrapper{left:auto;right:16px}.mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:12px}[dir=rtl] .mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:auto;right:12px}.mat-button-toggle-checked .mat-button-toggle-checkbox-wrapper{width:18px}.mat-button-toggle-animations-enabled .mat-button-toggle-checkbox-wrapper{transition:width 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-checkbox-wrapper{transition:none}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-sys-on-surface));background-color:var(--mat-standard-button-toggle-background-color, transparent);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-sys-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-sys-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-sys-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-standard-button-toggle-disabled-state-background-color, transparent)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-sys-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height, 40px)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}@media(forced-colors: active){.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-animations-enabled .mat-button-toggle-button{transition:padding 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-button{transition:none}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:30px}[dir=rtl] .mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:0;padding-right:30px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}
`],encapsulation:2,changeDetection:0})}return n})(),aa=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Te({type:n});static \u0275inj=Me({imports:[ze,Kr,Vi,ze]})}return n})();function As(n,t){if(n&1){let e=L();c(0,"button",7),w("click",function(){P(e);let r=b();return O(r.clearSearch())}),c(1,"mat-icon"),p(2,"close"),d()()}}var ji=class n{search=new Fe;searchQuery="";onSearch(){this.searchQuery.trim()&&this.search.emit(this.searchQuery.trim())}clearSearch(){this.searchQuery="",this.search.emit("")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-search-bar"]],outputs:{search:"search"},decls:9,vars:2,consts:[[1,"search-container"],[1,"search-field-wrapper"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Buscar pel\xEDcula",3,"ngModelChange","keyup.enter","ngModel"],["matSuffix",""],["matSuffix","","mat-icon-button","","aria-label","Limpiar b\xFAsqueda",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","type","button",1,"search-button",3,"click"],["matSuffix","","mat-icon-button","","aria-label","Limpiar b\xFAsqueda",3,"click"]],template:function(e,i){e&1&&(c(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"input",3),Oe("ngModelChange",function(o){return Pe(i.searchQuery,o)||(i.searchQuery=o),o}),w("keyup.enter",function(){return i.onSearch()}),d(),c(4,"mat-icon",4),p(5,"search"),d(),M(6,As,3,0,"button",5),d()(),c(7,"button",6),w("click",function(){return i.onSearch()}),p(8," Buscar "),d()()),e&2&&(u(3),ke("ngModel",i.searchQuery),u(3),g("ngIf",i.searchQuery))},dependencies:[K,ae,bt,ht,ft,_t,vt,pt,Wr,Ct,yt,de,ce,le,Ce,se],styles:["[_ngcontent-%COMP%]:root{--searchbar-bg: #fff;--searchbar-text: #222;--searchbar-border: #ccc;--searchbar-btn-bg: #1976d2;--searchbar-btn-text: #fff}body.dark-mode[_ngcontent-%COMP%]{--searchbar-bg: #232323;--searchbar-text: #1565c0;--searchbar-border: #444;--searchbar-btn-bg: #1565c0;--searchbar-btn-text: #fafafa}.search-container[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;margin-bottom:24px;flex-wrap:wrap}.search-field-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;height:56px;flex:1;min-width:300px}.search-field[_ngcontent-%COMP%]{width:100%;height:100%}.search-field-wrapper[_ngcontent-%COMP%], .search-field[_ngcontent-%COMP%], input[matInput][_ngcontent-%COMP%]{background:var(--searchbar-bg)!important;color:var(--searchbar-text)!important}.mat-form-field-outline[_ngcontent-%COMP%], .mat-form-field-outline-thick[_ngcontent-%COMP%]{color:var(--searchbar-border)!important;border-color:var(--searchbar-border)!important}.mat-form-field-label[_ngcontent-%COMP%], .mat-icon[_ngcontent-%COMP%]{color:var(--searchbar-text)!important}input[matInput][_ngcontent-%COMP%]::placeholder{color:var(--searchbar-text)!important;opacity:1}input[matInput][_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--searchbar-text)!important}input[matInput][_ngcontent-%COMP%]:-ms-input-placeholder{color:var(--searchbar-text)!important}.search-button[_ngcontent-%COMP%]{height:56px;min-width:100px;padding:0 24px;font-size:16px;display:flex;align-items:center;justify-content:center}.poster-section[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.search-container[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:0px}.search-field-wrapper[_ngcontent-%COMP%]{width:100%;height:auto}.search-button[_ngcontent-%COMP%]{width:100%;height:44px;margin-top:0}}"]})};var Et=class n{constructor(t){this.platformId=t;this.loadThemePreference()}isDarkModeSubject=new ir(!1);isDarkMode$=this.isDarkModeSubject.asObservable();get isDarkMode(){return this.isDarkModeSubject.value}loadThemePreference(){if(z(this.platformId)){let e=localStorage.getItem("darkMode")==="true";this.isDarkModeSubject.next(e),this.applyTheme(e)}}toggleDarkMode(){let t=!this.isDarkModeSubject.value;this.setDarkMode(t)}setDarkMode(t){this.isDarkModeSubject.next(t),this.applyTheme(t),this.saveThemePreference(t)}applyTheme(t){z(this.platformId)&&(t?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"))}saveThemePreference(t){z(this.platformId)&&localStorage.setItem("darkMode",t.toString())}static \u0275fac=function(e){return new(e||n)(we(re))};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ns=()=>[20];function Ls(n,t){if(n&1){let e=L();c(0,"div",24),w("click",function(){P(e);let r=b();return O(r.toggleSideMenu())}),d()}}function Bs(n,t){if(n&1){let e=L();c(0,"div")(1,"button",25),w("click",function(){P(e);let r=b();return O(r.navigateToLogin())}),c(2,"mat-icon"),p(3,"login"),d(),p(4," Iniciar sesi\xF3n "),d()()}}function zs(n,t){if(n&1){let e=L();c(0,"div",26)(1,"button",25),w("click",function(){P(e);let r=b();return O(r.navigateToProfile())}),c(2,"mat-icon"),p(3,"account_circle"),d(),p(4," Mi perfil "),d()()}}function Vs(n,t){n&1&&(c(0,"div",31),R(1,"mat-spinner",32),c(2,"span"),p(3,"Cargando categor\xEDas..."),d()())}function js(n,t){if(n&1){let e=L();c(0,"button",33),w("click",function(){let r=P(e).$implicit,o=b(2);return O(o.navigateToGenre(r.id))}),p(1),d()}if(n&2){let e=t.$implicit;u(),te(" ",e.name," ")}}function Gs(n,t){n&1&&(c(0,"span",34),p(1," No se encontraron categor\xEDas "),d())}function Us(n,t){if(n&1&&(c(0,"div",27),M(1,Vs,4,0,"div",28)(2,js,2,1,"button",29)(3,Gs,2,0,"span",30),d()),n&2){let e=b();u(),g("ngIf",e.loadingGenres),u(),g("ngForOf",e.genres),u(),g("ngIf",!e.loadingGenres&&e.genres.length===0)}}function Qs(n,t){if(n&1){let e=L();c(0,"div",26)(1,"button",35),w("click",function(){P(e);let r=b();return O(r.logout())}),c(2,"mat-icon"),p(3,"logout"),d(),p(4," Cerrar sesi\xF3n "),d()()}}function qs(n,t){n&1&&(c(0,"div",36),R(1,"mat-spinner"),c(2,"p"),p(3,"Cargando pel\xEDculas..."),d()())}function Hs(n,t){n&1&&(c(0,"p"),p(1,"Intenta con otros t\xE9rminos de b\xFAsqueda"),d())}function Ks(n,t){if(n&1){let e=L();c(0,"button",39),w("click",function(){P(e);let r=b(2);return O(r.loadPopularMovies())}),p(1," Ver pel\xEDculas populares "),d()}}function Ws(n,t){if(n&1&&(c(0,"div",37)(1,"mat-icon"),p(2,"movie_off"),d(),c(3,"h3"),p(4,"No se encontraron pel\xEDculas"),d(),M(5,Hs,2,0,"p",4)(6,Ks,2,0,"button",38),d()),n&2){let e=b();u(5),g("ngIf",e.searchQuery),u(),g("ngIf",e.searchQuery)}}function $s(n,t){if(n&1){let e=L();c(0,"mat-chip",52),w("click",function(r){let o=P(e).$implicit,a=b(4);return O(a.viewGenre(o.id,r))}),p(1),d()}if(n&2){let e=t.$implicit;u(),te(" ",e.name," ")}}function Ys(n,t){if(n&1&&(c(0,"div",50),M(1,$s,2,1,"mat-chip",51),d()),n&2){let e=b().$implicit;u(),g("ngForOf",e.genres.slice(0,3))}}function Xs(n,t){if(n&1){let e=L();c(0,"mat-card",42),w("click",function(){let r=P(e).$implicit,o=b(2);return O(o.viewMovieDetail(r.id))}),c(1,"img",43),w("error",function(r){P(e);let o=b(2);return O(o.onImageError(r))}),d(),c(2,"mat-card-content",44)(3,"h3",45),p(4),d(),c(5,"div",46)(6,"span",47),p(7),d(),c(8,"div",48)(9,"mat-icon"),p(10,"star"),d(),c(11,"span"),p(12),d()()(),M(13,Ys,2,1,"div",49),d()()}if(n&2){let e=t.$implicit,i=b(2);u(),g("src",e.poster_path?i.getImageUrl(e.poster_path):"assets/img/poster-not-found.png",We)("alt",e.title),u(3),j(e.title),u(3),j(i.getYear(e.release_date)),u(5),j(e.vote_average.toFixed(1)),u(),g("ngIf",e.genres&&e.genres.length>0)}}function Zs(n,t){if(n&1&&(c(0,"div",40),M(1,Xs,14,6,"mat-card",41),d()),n&2){let e=b();u(),g("ngForOf",e.movies)}}function Js(n,t){if(n&1){let e=L();c(0,"mat-paginator",53),w("page",function(r){P(e);let o=b();return O(o.onPageChange(r))}),d()}if(n&2){let e=b();g("length",e.totalResults)("pageSize",20)("pageIndex",e.currentPage-1)("pageSizeOptions",Tr(4,Ns))}}var Gi=class n{constructor(t,e,i,r,o,a){this.tmdbService=t;this.router=e;this.snackBar=i;this.themeService=r;this.supabaseService=o;this.platformId=a}movies=[];loading=!1;currentPage=1;totalPages=0;totalResults=0;searchQuery="";categoriesOpen=!1;sideMenuOpen=!1;genres=[];loadingGenres=!1;isAuthenticated=!1;currentUser=null;authSubscription;toggleSideMenu(){this.sideMenuOpen=!this.sideMenuOpen}toggleCategories(){this.categoriesOpen=!this.categoriesOpen}navigateToLogin(){this.sideMenuOpen=!1,this.router.navigate(["/login"])}navigateToProfile(){this.sideMenuOpen=!1,this.router.navigate(["/my-account"])}logout(){return ot(this,null,function*(){try{let{error:t}=yield this.supabaseService.signOut();t?this.snackBar.open("Error al cerrar sesi\xF3n","Cerrar",{duration:3e3}):(this.snackBar.open("Sesi\xF3n cerrada exitosamente","Cerrar",{duration:3e3}),this.sideMenuOpen=!1)}catch{this.snackBar.open("Error al cerrar sesi\xF3n","Cerrar",{duration:3e3})}})}ngOnInit(){this.scrollToTop(),this.loadPopularMovies(),this.loadGenres(),this.initializeAuth()}initializeAuth(){this.authSubscription=this.supabaseService.currentUser$.subscribe(t=>{this.currentUser=t,this.isAuthenticated=t!==null})}ngOnDestroy(){this.authSubscription?.unsubscribe()}scrollToTop(){z(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}loadGenres(){this.loadingGenres=!0,this.tmdbService.getGenres().subscribe({next:t=>{this.genres=t.genres,this.loadingGenres=!1},error:t=>{console.error("Error loading genres:",t),this.loadingGenres=!1,this.snackBar.open("Error al cargar las categor\xEDas","Cerrar",{duration:3e3})}})}get isDarkMode(){return this.themeService.isDarkMode}toggleDarkMode(){this.themeService.toggleDarkMode()}loadPopularMovies(){this.loading=!0,this.searchQuery="",this.tmdbService.getPopularMoviesWithDetails(this.currentPage).subscribe({next:t=>{this.movies=t,this.tmdbService.getPopularMovies(this.currentPage).subscribe({next:e=>{this.totalPages=e.total_pages,this.totalResults=e.total_results,this.loading=!1}})},error:t=>{console.error("Error loading movies:",t),this.loading=!1,this.snackBar.open("Error al cargar las pel\xEDculas","Cerrar",{duration:3e3})}})}onSearch(t){if(this.searchQuery=t,this.currentPage=1,!t.trim()){this.loadPopularMovies();return}this.performSearch(t,this.currentPage)}performSearch(t,e){this.loading=!0,this.tmdbService.searchMoviesWithDetails(t,e).subscribe({next:i=>{this.movies=i,this.tmdbService.searchMovies(t,e).subscribe({next:r=>{this.totalPages=r.total_pages,this.totalResults=r.total_results,this.loading=!1}})},error:i=>{console.error("Error searching movies:",i),this.loading=!1,this.snackBar.open("Error al buscar pel\xEDculas","Cerrar",{duration:3e3})}})}onPageChange(t){this.currentPage=t.pageIndex+1,this.scrollToTop(),this.searchQuery?this.performSearch(this.searchQuery,this.currentPage):this.loadPopularMovies()}viewMovieDetail(t){this.router.navigate(["/movie",t])}getImageUrl(t){return this.tmdbService.getImageUrl(t)}onImageError(t){t.target.src="assets/no-image.jpg"}getYear(t){return new Date(t).getFullYear().toString()}viewGenre(t,e){e.stopPropagation(),this.router.navigate(["/genre",t])}navigateToGenre(t){this.sideMenuOpen=!1,this.router.navigate(["/genre",t])}static \u0275fac=function(e){return new(e||n)(E(Se),E(ye),E(bi),E(Et),E(Ve),E(re))};static \u0275cmp=F({type:n,selectors:[["app-home"]],decls:38,vars:14,consts:[["mat-icon-button","",1,"menu-toggle-btn",3,"click"],["class","side-menu-backdrop",3,"click",4,"ngIf"],[1,"side-menu"],["mat-icon-button","",1,"side-menu-close",3,"click"],[4,"ngIf"],["class","side-menu-user-section",4,"ngIf"],[1,"side-menu-section"],["mat-button","",1,"side-menu-accordion",3,"click"],["class","side-menu-categories",4,"ngIf"],[1,"side-menu-theme-section"],[1,"side-menu-theme-label"],[1,"theme-toggle-group",3,"change","value","hideSingleSelectionIndicator"],["value","light",1,"theme-toggle-btn"],["value","dark",1,"theme-toggle-btn"],[1,"home-layout"],[1,"home-container"],[1,"header"],["src","assets/img/filmnest-text-logo.png","alt","FilmNest",1,"title"],[3,"search"],[1,"content"],["class","loading-container",4,"ngIf"],["class","no-results",4,"ngIf"],["class","movies-grid",4,"ngIf"],["class","paginator",3,"length","pageSize","pageIndex","pageSizeOptions","page",4,"ngIf"],[1,"side-menu-backdrop",3,"click"],["mat-button","",1,"side-menu-btn",3,"click"],[1,"side-menu-user-section"],[1,"side-menu-categories"],["class","side-menu-loading",4,"ngIf"],["mat-button","","class","side-menu-genre-btn",3,"click",4,"ngFor","ngForOf"],["class","side-menu-empty",4,"ngIf"],[1,"side-menu-loading"],["diameter","20"],["mat-button","",1,"side-menu-genre-btn",3,"click"],[1,"side-menu-empty"],["mat-button","",1,"side-menu-btn","side-menu-logout-btn",3,"click"],[1,"loading-container"],[1,"no-results"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"movies-grid"],["class","movie-card",3,"click",4,"ngFor","ngForOf"],[1,"movie-card",3,"click"],["mat-card-image","",1,"movie-poster",3,"error","src","alt"],[1,"movie-content"],[1,"movie-title"],[1,"movie-meta"],[1,"movie-year"],[1,"movie-rating"],["class","movie-genres",4,"ngIf"],[1,"movie-genres"],["class","genre-chip clickable",3,"click",4,"ngFor","ngForOf"],[1,"genre-chip","clickable",3,"click"],[1,"paginator",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(e,i){e&1&&(c(0,"button",0),w("click",function(){return i.toggleSideMenu()}),c(1,"mat-icon"),p(2,"menu"),d()(),M(3,Ls,1,0,"div",1),c(4,"aside",2)(5,"button",3),w("click",function(){return i.toggleSideMenu()}),c(6,"mat-icon"),p(7,"close"),d()(),c(8,"nav"),M(9,Bs,5,0,"div",4)(10,zs,5,0,"div",5),c(11,"div",6)(12,"button",7),w("click",function(){return i.toggleCategories()}),p(13," Categor\xEDas "),c(14,"mat-icon"),p(15),d()(),M(16,Us,4,3,"div",8),d(),M(17,Qs,5,0,"div",5),c(18,"div",9)(19,"span",10),p(20,"Tema"),d(),c(21,"mat-button-toggle-group",11),w("change",function(){return i.toggleDarkMode()}),c(22,"mat-button-toggle",12)(23,"mat-icon"),p(24,"light_mode"),d()(),c(25,"mat-button-toggle",13)(26,"mat-icon"),p(27,"dark_mode"),d()()()()()(),c(28,"div",14)(29,"div",15)(30,"header",16),R(31,"img",17),d(),c(32,"app-search-bar",18),w("search",function(o){return i.onSearch(o)}),d(),c(33,"div",19),M(34,qs,4,0,"div",20)(35,Ws,7,2,"div",21)(36,Zs,2,1,"div",22)(37,Js,1,5,"mat-paginator",23),d()()()),e&2&&(u(3),g("ngIf",i.sideMenuOpen),u(),oe("open",i.sideMenuOpen),u(5),g("ngIf",!i.isAuthenticated),u(),g("ngIf",i.isAuthenticated),u(5),j(i.categoriesOpen?"expand_less":"expand_more"),u(),g("ngIf",i.categoriesOpen),u(),g("ngIf",i.isAuthenticated),u(4),g("value",i.isDarkMode?"dark":"light")("hideSingleSelectionIndicator",!0),u(13),g("ngIf",i.loading),u(),g("ngIf",!i.loading&&i.movies.length===0),u(),g("ngIf",!i.loading&&i.movies.length>0),u(),g("ngIf",!i.loading&&i.totalPages>1))},dependencies:[K,Le,ae,ci,Gr,Ur,Qr,le,Ce,se,de,ce,ut,mt,ro,no,_i,fi,aa,Gn,Vi,ji],styles:[".home-layout[_ngcontent-%COMP%]{display:flex;min-height:100vh;background:var(--background-color)}.home-container[_ngcontent-%COMP%]{flex:1;width:100%;max-width:1200px;margin:0 auto;padding:20px}.menu-toggle-btn[_ngcontent-%COMP%]{position:fixed;top:24px;left:24px;z-index:1201;background:var(--card-bg);color:var(--text-color)!important;box-shadow:0 2px 8px #00000014;border-radius:50%;transition:background .3s,color .3s,opacity .3s}.menu-toggle-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--text-color)!important}.side-menu.open[_ngcontent-%COMP%] ~ .menu-toggle-btn[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.side-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:260px;background:var(--card-bg);border-right:1px solid var(--card-border);box-shadow:2px 0 16px #0000001a;padding:0;display:flex;flex-direction:column;align-items:stretch;z-index:1202;transform:translate(-110%);transition:transform .3s cubic-bezier(.4,0,.2,1);overflow:hidden}.side-menu.open[_ngcontent-%COMP%]{transform:translate(0)}.side-menu[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:60px 16px 0;height:100%;overflow-y:auto;scrollbar-width:none;-ms-overflow-style:none}.side-menu[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.side-menu-close[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;color:var(--text-color)!important;cursor:pointer;z-index:1}.side-menu-close[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--text-color)!important}.side-menu-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000059;z-index:1200}.side-menu-btn[_ngcontent-%COMP%]{width:100%;justify-content:flex-start;color:var(--text-color)!important;font-weight:500;border-radius:8px;margin-bottom:8px;background:transparent!important}.side-menu-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;color:var(--text-color)!important}.side-menu-accordion[_ngcontent-%COMP%]{width:100%;justify-content:flex-start;color:var(--text-color)!important;font-weight:500;border-radius:8px;display:flex;align-items:center;background:transparent!important;padding:0}.side-menu-categories[_ngcontent-%COMP%]{padding-left:32px;margin-top:6px;color:var(--detail-meta);font-size:.95rem}.side-menu-empty[_ngcontent-%COMP%]{color:var(--detail-meta);font-style:italic}.side-menu-loading[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:var(--detail-meta);font-size:.9rem}.side-menu-loading[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin:0}.side-menu-genre-btn[_ngcontent-%COMP%]{width:100%;justify-content:flex-start;color:var(--text-color)!important;font-size:.9rem;border-radius:6px;background:transparent!important;transition:background .2s ease}.side-menu-genre-btn[_ngcontent-%COMP%]:hover{background:var(--card-border)!important}.side-menu-genre-btn[_ngcontent-%COMP%]:last-child{margin-bottom:0}.side-menu-logout-btn[_ngcontent-%COMP%]{color:#f44336!important;margin-top:4px}.side-menu-logout-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336!important}.side-menu-logout-btn[_ngcontent-%COMP%]:hover{background:#f443361a!important}.side-menu-divider[_ngcontent-%COMP%]{height:1px;background:var(--card-border);margin:24px 0;opacity:.6}.side-menu-theme-section[_ngcontent-%COMP%]{margin-top:auto;padding-top:16px;flex-shrink:0}.side-menu-theme-label[_ngcontent-%COMP%]{display:block;color:var(--text-color);font-weight:500;margin-bottom:8px;font-size:.85rem}.theme-toggle-group[_ngcontent-%COMP%]{width:50%;height:50%;border-radius:6px;overflow:hidden;border:1px solid var(--card-border)}.theme-toggle-btn[_ngcontent-%COMP%]{flex:1;color:var(--text-color)!important;background:var(--card-bg)!important;border:none!important;padding:4px 8px;display:flex;align-items:center;justify-content:center}.theme-toggle-btn.mat-button-toggle-checked[_ngcontent-%COMP%]{background:var(--primary-color)!important;color:#fff!important}.theme-toggle-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:1.1rem;height:1.1rem}@media (min-width: 900px){.side-menu[_ngcontent-%COMP%]{width:280px}}.header[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{max-width:100%;height:auto;width:auto;object-fit:contain}.content[_ngcontent-%COMP%]{min-height:400px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:#666}.no-results[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.no-results[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#ccc;margin-bottom:16px}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:var(--text-color)}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#666}.movies-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:24px;margin-bottom:32px}.movie-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;border-radius:12px;overflow:hidden;background:var(--card-bg);border:1px solid var(--card-border)}.movie-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #00000026}.movie-poster[_ngcontent-%COMP%]{height:400px;object-fit:cover;width:100%}.movie-content[_ngcontent-%COMP%]{padding:16px}.movie-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0 0 8px;color:var(--text-color);line-height:1.3}.movie-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.movie-year[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.movie-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;color:#f39c12;font-weight:500}.movie-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}body.dark-mode[_ngcontent-%COMP%]   .movie-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f39c12!important}.movie-genres[_ngcontent-%COMP%]{display:flex;gap:6px;margin-bottom:12px;flex-wrap:wrap}.genre-chip[_ngcontent-%COMP%]{font-size:.75rem;height:24px;background:var(--detail-genre-bg);color:var(--detail-genre-color)}.paginator[_ngcontent-%COMP%]{margin-top:32px;background:var(--paginator-bg);color:var(--paginator-color);border-radius:8px;padding:8px 16px}@media (max-width: 1024px){.movies-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 768px){.home-container[_ngcontent-%COMP%]{padding:16px}.menu-toggle-btn[_ngcontent-%COMP%]{position:absolute;top:16px;left:16px;z-index:1201}.header[_ngcontent-%COMP%]{position:relative;padding-top:60px;margin-bottom:20px}.movies-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:16px}.movie-poster[_ngcontent-%COMP%]{height:350px}}@media (max-width: 480px){.menu-toggle-btn[_ngcontent-%COMP%]{top:12px;left:12px}.header[_ngcontent-%COMP%]{padding-top:50px}.movies-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.movie-poster[_ngcontent-%COMP%]{height:400px}}"]})};var ua=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Te({type:n});static \u0275inj=Me({imports:[ze]})}return n})();function el(n,t){}var Ue=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var qn=(()=>{class n extends Xr{_elementRef=S(at);_focusTrapFactory=S(Vr);_config;_interactivityChecker=S(zr);_ngZone=S(ni);_overlayRef=S(mn);_focusMonitor=S(si);_renderer=S(fr);_changeDetectorRef=S(It);_injector=S(Pt);_platform=S(Lr);_document=S(ri,{optional:!0});_portalOutlet;_focusTrapped=new ve;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=S(Ue,{optional:!0})||new Ue,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}attachDomPortal=e=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),a(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",r),a=this._renderer.listen(e,"mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(e){this._isDestroyed||ur(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,i=null;if(typeof e=="string"?i=this._document.querySelector(e):typeof e=="boolean"?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=ai(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus(e)}_containsFocus(){let e=this._elementRef.nativeElement,i=ai();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ai()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=F({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&lt(Rt,7),i&2){let o;$e(o=Ye())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&Ee("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Ot],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&M(0,el,0,0,"ng-template",0)},dependencies:[Rt],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return n})(),Ht=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new ve;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,e){this.overlayRef=t,this.config=e,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!li(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(t,e){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},tl=new ue("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=S(gt);return()=>n.scrollStrategies.block()}}),il=new ue("DialogData"),nl=new ue("DefaultDialogConfig");var Hn=(()=>{class n{_overlay=S(gt);_injector=S(Pt);_defaultOptions=S(nl,{optional:!0});_parentDialog=S(n,{optional:!0,skipSelf:!0});_overlayContainer=S(Jr);_idGenerator=S(Be);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new ve;_afterOpenedAtThisLevel=new ve;_ariaHiddenElements=new Map;_scrollStrategy=S(tl);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=ei(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ii(void 0)));constructor(){}open(e,i){let r=this._defaultOptions||new Ue;i=ee(ee({},r),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),a=this._overlay.create(o),s=new Ht(a,i),l=this._attachContainer(a,s,i);if(s.containerInstance=l,!this.openDialogs.length){let m=this._overlayContainer.getContainerElement();l._focusTrapped?l._focusTrapped.pipe(Re(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(m)}):this._hideNonDialogContentFromAssistiveTechnology(m)}return this._attachDialogContent(e,s,l,i),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){Qn(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){Qn(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),Qn(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let i=new Zr({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){let o=r.injector||r.viewContainerRef?.injector,a=[{provide:Ue,useValue:r},{provide:Ht,useValue:i},{provide:mn,useValue:e}],s;r.container?typeof r.container=="function"?s=r.container:(s=r.container.type,a.push(...r.container.providers(r))):s=qn;let l=new dn(s,r.viewContainerRef,Pt.create({parent:o||this._injector,providers:a}));return e.attach(l).instance}_attachDialogContent(e,i,r,o){if(e instanceof gr){let a=this._createInjector(o,i,r,void 0),s={$implicit:o.data,dialogRef:i};o.templateContext&&(s=ee(ee({},s),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new Yr(e,null,s,a))}else{let a=this._createInjector(o,i,r,this._injector),s=r.attachComponentPortal(new dn(e,o.viewContainerRef,a));i.componentRef=s,i.componentInstance=s.instance}}_createInjector(e,i,r,o){let a=e.injector||e.viewContainerRef?.injector,s=[{provide:il,useValue:e.data},{provide:Ht,useValue:i}];return e.providers&&(typeof e.providers=="function"?s.push(...e.providers(i,e,r)):s.push(...e.providers)),e.direction&&(!a||!a.get(At,null,{optional:!0}))&&s.push({provide:At,useValue:{value:e.direction,change:Jt()}}),Pt.create({parent:a||o,providers:s})}_removeOpenDialog(e,i){let r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qn(n,t){let e=n.length;for(;e--;)t(n[e])}var ga=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Te({type:n});static \u0275inj=Me({providers:[Hn],imports:[mi,Ft,jr,Ft]})}return n})();function rl(n,t){}var Wt=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},Kn="mdc-dialog--open",ha="mdc-dialog--opening",fa="mdc-dialog--closing",ol=150,al=75,va=(()=>{class n extends qn{_animationMode=S(Ke,{optional:!0});_animationStateChanged=new Fe;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?ba(this._config.enterAnimationDuration)??ol:0;_exitAnimationDuration=this._animationsEnabled?ba(this._config.exitAnimationDuration)??al:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(_a,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ha,Kn)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Kn),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Kn),this._animationsEnabled?(this._hostElement.style.setProperty(_a,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(fa)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(ha,fa)}_waitForAnimationToComplete(e,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let e;return function(r){return(e||(e=nn(n)))(r||n)}})();static \u0275cmp=F({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){i&2&&(on("id",r._config.id),Ee("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),oe("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[Ot],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(c(0,"div",0)(1,"div",1),M(2,rl,0,0,"ng-template",2),d()())},dependencies:[Rt],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return n})(),_a="--mat-dialog-transition-duration";function ba(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?cn(n.substring(0,n.length-2)):n.endsWith("s")?cn(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var Kt=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(Kt||{}),it=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new ve;_beforeClosed=new ve;_result;_closeFallbackTimeout;_state=Kt.OPEN;_closeInteractionType;constructor(t,e,i){this._ref=t,this._containerInstance=i,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(kt(r=>r.state==="opened"),Re(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(kt(r=>r.state==="closed"),Re(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),or(this.backdropClick(),this.keydownEvents().pipe(kt(r=>r.keyCode===27&&!this.disableClose&&!li(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),ya(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(kt(e=>e.state==="closing"),Re(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=Kt.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=Kt.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function ya(n,t,e){return n._closeInteractionType=t,n.close(e)}var qi=new ue("MatMdcDialogData"),Ca=new ue("mat-mdc-dialog-default-options"),Sa=new ue("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=S(gt);return()=>n.scrollStrategies.block()}});var $t=(()=>{class n{_overlay=S(gt);_defaultOptions=S(Ca,{optional:!0});_scrollStrategy=S(Sa);_parentDialog=S(n,{optional:!0,skipSelf:!0});_idGenerator=S(Be);_dialog=S(Hn);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new ve;_afterOpenedAtThisLevel=new ve;dialogConfigClass=Wt;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=ei(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ii(void 0)));constructor(){this._dialogRefConstructor=it,this._dialogContainerType=va,this._dialogDataToken=qi}open(e,i){let r;i=ee(ee({},this._defaultOptions||new Wt),i),i.id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,er(ee({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Ue,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,s,l)=>(r=new this._dialogRefConstructor(a,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sl=(()=>{class n{_dialogRef=S(it,{optional:!0});_elementRef=S(at);_dialog=S($t);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=ll(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=st({type:n})}return n})(),Wn=(()=>{class n extends sl{id=S(Be).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=nn(n)))(r||n)}})();static \u0275dir=st({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){i&2&&on("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[Ot]})}return n})(),$n=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=st({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[br([$r])]})}return n})();function ll(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}var Yt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Te({type:n});static \u0275inj=Me({providers:[$t],imports:[ga,mi,Ft,ze,ze]})}return n})();var Hi=class n{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}static \u0275fac=function(e){return new(e||n)(E(Ar,16))};static \u0275pipe=_r({name:"safe",type:n,pure:!0})};function cl(n,t){n&1&&(c(0,"div",8),R(1,"mat-spinner"),c(2,"p"),p(3,"Cargando trailer..."),d()())}function dl(n,t){n&1&&(c(0,"div",9)(1,"mat-icon"),p(2,"error"),d(),c(3,"h3"),p(4,"Trailer no disponible"),d(),c(5,"p"),p(6,"No se encontr\xF3 un trailer para esta pel\xEDcula."),d()())}function ml(n,t){if(n&1&&(c(0,"div",10),R(1,"iframe",11),Dt(2,"safe"),d()),n&2){let e=b();u(),g("src",Er(2,1,e.getEmbedUrl()),pr)}}var Ki=class n{constructor(t,e,i){this.dialogRef=t;this.data=e;this.tmdbService=i}trailerUrl=null;loading=!0;error=!1;ngOnInit(){this.loadTrailer()}loadTrailer(){this.tmdbService.getMovieTrailerUrl(this.data.movieId).subscribe({next:t=>{this.trailerUrl=t,this.loading=!1,t||(this.error=!0)},error:()=>{this.loading=!1,this.error=!0}})}getEmbedUrl(){return this.trailerUrl?`https://www.youtube.com/embed/${this.trailerUrl.split("v=")[1]}`:""}close(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||n)(E(it),E(qi),E(Se))};static \u0275cmp=F({type:n,selectors:[["app-trailer-modal"]],decls:11,vars:4,consts:[[1,"trailer-modal-container"],[1,"modal-header"],["mat-dialog-title",""],["mat-icon-button","","aria-label","Cerrar",1,"close-button",3,"click"],["mat-dialog-content","",1,"modal-content"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","video-container",4,"ngIf"],[1,"loading-container"],[1,"error-container"],[1,"video-container"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"youtube-iframe",3,"src"]],template:function(e,i){e&1&&(c(0,"div",0)(1,"div",1)(2,"h2",2),p(3),d(),c(4,"button",3),w("click",function(){return i.close()}),c(5,"mat-icon"),p(6,"close"),d()()(),c(7,"div",4),M(8,cl,4,0,"div",5)(9,dl,7,0,"div",6)(10,ml,3,3,"div",7),d()()),e&2&&(u(3),te("Trailer: ",i.data.movieTitle,""),u(5),g("ngIf",i.loading),u(),g("ngIf",i.error),u(),g("ngIf",!i.loading&&!i.error&&i.trailerUrl))},dependencies:[K,ae,Yt,Wn,$n,le,se,de,ce,ut,mt,Hi],styles:[".trailer-modal-container[_ngcontent-%COMP%]{max-width:90vw;max-height:90vh;width:800px;background:var(--card-bg);overflow:hidden}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:4px 8px;border-bottom:1px solid var(--card-border);background:var(--card-bg)}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:500;color:var(--text-color)}.close-button[_ngcontent-%COMP%]{color:var(--text-color)}.modal-content[_ngcontent-%COMP%]{padding:0;max-height:70vh;overflow:hidden}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:var(--text-color)}.error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.error-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:#f44336;margin-bottom:16px}.error-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:var(--text-color)}.error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-color);opacity:.7}.video-container[_ngcontent-%COMP%]{position:relative;width:100%;height:0;padding-bottom:56.25%;background:#000}.youtube-iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:none}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:16px 24px;border-top:1px solid var(--card-border);background:var(--card-bg)}.close-btn[_ngcontent-%COMP%]{color:var(--text-color)}@media (max-width: 768px){.trailer-modal-container[_ngcontent-%COMP%]{width:95vw;max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:4px 8px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.modal-actions[_ngcontent-%COMP%]{padding:12px 20px}}@media (max-width: 480px){.trailer-modal-container[_ngcontent-%COMP%]{width:98vw}.modal-header[_ngcontent-%COMP%]{padding:6px 8px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}.modal-actions[_ngcontent-%COMP%]{padding:8px 16px}}"]})};var ul=n=>["/cast",n],pl=n=>["/movie",n];function gl(n,t){n&1&&(c(0,"div",4),R(1,"mat-spinner"),c(2,"p"),p(3,"Cargando detalles de la pel\xEDcula..."),d()())}function hl(n,t){if(n&1&&(c(0,"h2",24),p(1),d()),n&2){let e=b(2);u(),j(e.movie.tagline)}}function fl(n,t){n&1&&(c(0,"span",29),p(1,"/"),d())}function _l(n,t){if(n&1&&(vr(0),R(1,"img",27),M(2,fl,2,0,"span",28),yr()),n&2){let e=t.$implicit,i=t.last,r=b(3);u(),g("src",r.getCountryFlagUrl(e.iso_3166_1),We)("alt",e.name)("title",e.name),u(),g("ngIf",!i)}}function bl(n,t){if(n&1&&(c(0,"div",14)(1,"span",25),M(2,_l,3,4,"ng-container",26),d()()),n&2){let e=b(2);u(2),g("ngForOf",e.movie.production_countries)}}function vl(n,t){if(n&1){let e=L();c(0,"mat-chip",32),w("click",function(){let r=P(e).$implicit,o=b(3);return O(o.viewGenre(r.id))}),p(1),d()}if(n&2){let e=t.$implicit;u(),te(" ",e.name," ")}}function yl(n,t){if(n&1&&(c(0,"div",30),M(1,vl,2,1,"mat-chip",31),d()),n&2){let e=b(2);u(),g("ngForOf",e.movie.genres)}}function Cl(n,t){if(n&1&&(c(0,"div",37)(1,"strong"),p(2,"Presupuesto: "),d(),p(3),d()),n&2){let e=b(3);u(3),te("",e.formatCurrency(e.movie.budget)," ")}}function Sl(n,t){if(n&1&&(c(0,"div",37)(1,"strong"),p(2,"Recaudaci\xF3n: "),d(),p(3),d()),n&2){let e=b(3);u(3),te("",e.formatCurrency(e.movie.revenue)," ")}}function xl(n,t){if(n&1&&(c(0,"div",38)(1,"div",39)(2,"div",40),R(3,"div",41)(4,"div",42),d(),c(5,"div",43)(6,"span",44),p(7),d(),c(8,"span",45),p(9),d()()()()),n&2){let e=b(3);u(3),Ne("width",e.getBudgetPercentage(e.movie.budget,e.movie.revenue),"%"),u(),Ne("width",e.getRevenuePercentage(e.movie.budget,e.movie.revenue),"%"),u(3),te("Presupuesto (",e.getBudgetPercentage(e.movie.budget,e.movie.revenue),"%)"),u(2),te("Recaudaci\xF3n (",e.getRevenuePercentage(e.movie.budget,e.movie.revenue),"%)")}}function Ml(n,t){if(n&1&&(c(0,"div",33)(1,"h3",34),p(2,"Informaci\xF3n financiera"),d(),M(3,Cl,4,1,"div",35)(4,Sl,4,1,"div",35)(5,xl,10,6,"div",36),d()),n&2){let e=b(2);u(3),g("ngIf",e.movie.budget),u(),g("ngIf",e.movie.revenue),u(),g("ngIf",e.movie.budget&&e.movie.revenue)}}function wl(n,t){if(n&1&&(c(0,"div",51),R(1,"img",52),c(2,"div",53)(3,"span",54),p(4),d(),c(5,"span",55),p(6),d()()()),n&2){let e=t.$implicit;g("routerLink",sn(5,ul,e.id)),u(),g("src",e.profile_path?"https://image.tmdb.org/t/p/w185"+e.profile_path:"assets/img/cast-not-found.png",We)("alt",e.name),u(3),j(e.name),u(2),j(e.character)}}function Tl(n,t){if(n&1){let e=L();c(0,"div",56)(1,"button",57),w("click",function(){P(e);let r=b(3);return O(r.prevCastPage())}),c(2,"mat-icon"),p(3,"chevron_left"),d()(),c(4,"span",58),p(5),d(),c(6,"button",57),w("click",function(){P(e);let r=b(3);return O(r.nextCastPage())}),c(7,"mat-icon"),p(8,"chevron_right"),d()()()}if(n&2){let e=b(3);u(),g("disabled",e.castPage===0),u(4),an("",e.castPage+1," / ",e.castTotalPages,""),u(),g("disabled",(e.castPage+1)*e.castPageSize>=e.actors.length)}}function El(n,t){if(n&1&&(c(0,"div",46)(1,"h3",47),p(2,"Reparto"),d(),c(3,"div",48),M(4,wl,7,7,"div",49),d(),M(5,Tl,9,4,"div",50),d()),n&2){let e=b(2);u(4),g("ngForOf",e.visibleActors),u(),g("ngIf",e.actors.length>5)}}function kl(n,t){if(n&1&&(c(0,"div",51),R(1,"img",52),c(2,"div",53)(3,"span",54),p(4),d(),c(5,"span",55),p(6),Dt(7,"date"),d()()()),n&2){let e=t.$implicit,i=b(3);g("routerLink",sn(8,pl,e.id)),u(),g("src",e.poster_path?i.getImageUrl(e.poster_path):"assets/img/poster-not-found.png",We)("alt",e.title),u(3),j(e.title),u(2),j(ln(7,5,e.release_date,"yyyy"))}}function Pl(n,t){if(n&1){let e=L();c(0,"div",56)(1,"button",57),w("click",function(){P(e);let r=b(3);return O(r.prevRecommendationsPage())}),c(2,"mat-icon"),p(3,"chevron_left"),d()(),c(4,"span",58),p(5),d(),c(6,"button",57),w("click",function(){P(e);let r=b(3);return O(r.nextRecommendationsPage())}),c(7,"mat-icon"),p(8,"chevron_right"),d()()()}if(n&2){let e=b(3);u(),g("disabled",e.recommendationsPage===0),u(4),an("",e.recommendationsPage+1," / ",e.recommendationsTotalPages,""),u(),g("disabled",(e.recommendationsPage+1)*e.recommendationsPageSize>=e.recommendations.length)}}function Ol(n,t){if(n&1&&(c(0,"div",59)(1,"h3",47),p(2,"Te puede interesar..."),d(),c(3,"div",48),M(4,kl,8,10,"div",49),d(),M(5,Pl,9,4,"div",50),d()),n&2){let e=b(2);u(4),g("ngForOf",e.visibleRecommendations),u(),g("ngIf",e.recommendations.length>e.recommendationsPageSize)}}function Dl(n,t){if(n&1){let e=L();c(0,"div",5)(1,"button",6),w("click",function(){P(e);let r=b();return O(r.goBack())}),c(2,"mat-icon"),p(3,"arrow_back"),d()(),c(4,"div",7)(5,"div",8)(6,"img",9),w("error",function(r){P(e);let o=b();return O(o.onImageError(r))}),d()(),c(7,"div",10)(8,"h1",11),p(9),d(),M(10,hl,2,1,"h2",12),c(11,"div",13)(12,"div",14)(13,"mat-icon"),p(14,"calendar_today"),d(),c(15,"span"),p(16),Dt(17,"date"),d()(),c(18,"div",14)(19,"mat-icon"),p(20,"schedule"),d(),c(21,"span"),p(22),d()(),c(23,"div",14)(24,"mat-icon"),p(25,"star"),d(),c(26,"span"),p(27),d()(),M(28,bl,3,1,"div",15),d(),M(29,yl,2,1,"div",16),c(30,"div",17)(31,"button",18),w("click",function(){P(e);let r=b();return O(r.openTrailerModal())}),c(32,"mat-icon"),p(33,"play_circle"),d(),p(34," Ver Trailer "),d()(),c(35,"div",19)(36,"h3"),p(37,"Sinopsis"),d(),c(38,"p",20),p(39),d()(),M(40,Ml,6,3,"div",21)(41,El,6,2,"div",22)(42,Ol,6,2,"div",23),d()()()}if(n&2){let e=b();u(6),g("src",e.movie.poster_path?e.getImageUrl(e.movie.poster_path):"assets/img/poster-not-found.png",We)("alt",e.movie.title),u(3),j(e.movie.title),u(),g("ngIf",e.movie.tagline),u(6),j(ln(17,13,e.movie.release_date,"dd/MM/yyyy")),u(6),te("",e.movie.runtime," min"),u(5),te("",e.movie.vote_average.toFixed(1),"/10"),u(),g("ngIf",e.movie.production_countries&&e.movie.production_countries.length>0),u(),g("ngIf",e.movie.genres&&e.movie.genres.length>0),u(10),j(e.movie.overview||"Sinopsis no disponible"),u(),g("ngIf",e.movie.budget||e.movie.revenue),u(),g("ngIf",e.actors.length>0),u(),g("ngIf",e.recommendations.length>0)}}function Il(n,t){if(n&1){let e=L();c(0,"div",60)(1,"mat-icon"),p(2,"error"),d(),c(3,"h3"),p(4,"Pel\xEDcula no encontrada"),d(),c(5,"p"),p(6,"La pel\xEDcula que buscas no existe o ha sido eliminada."),d(),c(7,"button",61),w("click",function(){P(e);let r=b();return O(r.goBack())}),p(8," Volver al cat\xE1logo "),d()()}}var Wi=class n{constructor(t,e,i,r,o,a,s){this.route=t;this.router=e;this.tmdbService=i;this.snackBar=r;this.dialog=o;this.location=a;this.platformId=s;z(this.platformId)&&(this.updateCastPageSize(),this.updateRecommendationsPageSize(),window.addEventListener("resize",()=>{this.updateCastPageSize(),this.updateRecommendationsPageSize()}))}movie=null;loading=!1;actors=[];castPage=0;castPageSize=5;randomBackdrop="";recommendations=[];recommendationsPage=0;recommendationsPageSize=3;updateCastPageSize(){z(this.platformId)&&(this.castPageSize=window.innerWidth<=480?3:5,this.castPage*this.castPageSize>=this.actors.length&&(this.castPage=0))}updateRecommendationsPageSize(){z(this.platformId)&&(this.recommendationsPageSize=window.innerWidth<=480?1:3,this.recommendationsPage*this.recommendationsPageSize>=this.recommendations.length&&(this.recommendationsPage=0))}ngOnInit(){this.scrollToTop(),this.route.params.subscribe(t=>{let e=+t.id;e&&(this.loadMovieDetail(e),this.loadMovieCast(e),this.loadMovieRecommendations(e))})}scrollToTop(){z(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}loadMovieDetail(t){this.loading=!0,this.tmdbService.getMovieDetail(t).subscribe({next:e=>{this.movie=e,this.loading=!1,this.loadMovieImages(t)},error:e=>{console.error("Error loading movie detail:",e),this.loading=!1,this.snackBar.open("Error al cargar los detalles de la pel\xEDcula","Cerrar",{duration:3e3})}})}loadMovieImages(t){this.tmdbService.getMovieImages(t).subscribe({next:e=>{this.selectRandomBackdrop(e)},error:e=>{console.error("Error loading movie images:",e),this.movie?.backdrop_path&&(this.randomBackdrop=this.getBackdropUrl(this.movie.backdrop_path))}})}selectRandomBackdrop(t){if(t.backdrops&&t.backdrops.length>0){let e=t.backdrops[Math.floor(Math.random()*t.backdrops.length)];this.randomBackdrop=this.tmdbService.getHighQualityImageUrl(e.file_path),this.updateBackdropBackground()}else this.useOriginalBackdrop()}useOriginalBackdrop(){this.movie?.backdrop_path&&(this.randomBackdrop=this.getBackdropUrl(this.movie.backdrop_path),this.updateBackdropBackground())}updateBackdropBackground(){if(z(this.platformId)){let t=this.randomBackdrop||this.getBackdropUrl(this.movie?.backdrop_path||"");document.documentElement.style.setProperty("--backdrop-image",`url(${t})`)}}loadMovieCast(t){this.tmdbService.getMovieCast(t).subscribe({next:e=>{this.actors=e},error:e=>{console.error("Error loading cast:",e)}})}loadMovieRecommendations(t){this.tmdbService.getMovieRecommendations(t).subscribe({next:e=>{this.recommendations=e.results||[]},error:e=>{console.error("Error loading recommendations:",e)}})}goBack(){this.location.back()}getImageUrl(t){return this.tmdbService.getImageUrl(t)}getBackdropUrl(t){return this.tmdbService.getImageUrl(t,"w1280")}onImageError(t){t.target.src="assets/no-image.jpg"}formatCurrency(t){return t===0?"No disponible":new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}getRevenueRatio(t,e){return Math.min(Math.round(e/t*100),500)}getBudgetPercentage(t,e){let i=t+e;return Math.round(t/i*100)}getRevenuePercentage(t,e){let i=t+e;return Math.round(e/i*100)}openTrailerModal(){this.movie&&this.dialog.open(Ki,{data:{movieId:this.movie.id,movieTitle:this.movie.title},maxWidth:"90vw",maxHeight:"90vh",width:"800px"})}getCountryFlag(t){let e=t.toUpperCase().split("").map(i=>127397+i.charCodeAt(0));return String.fromCodePoint(...e)}getCountryFlagUrl(t){return`https://flagsapi.com/${t.toUpperCase()}/flat/32.png`}get visibleActors(){let t=this.castPage*this.castPageSize;return this.actors.slice(t,t+this.castPageSize)}prevCastPage(){this.castPage>0&&this.castPage--}nextCastPage(){(this.castPage+1)*this.castPageSize<this.actors.length&&this.castPage++}get castTotalPages(){return Math.ceil(this.actors.length/this.castPageSize)}get visibleRecommendations(){let t=this.recommendationsPage*this.recommendationsPageSize;return this.recommendations.slice(t,t+this.recommendationsPageSize)}get recommendationsTotalPages(){return Math.ceil(this.recommendations.length/this.recommendationsPageSize)}prevRecommendationsPage(){this.recommendationsPage>0&&this.recommendationsPage--}nextRecommendationsPage(){(this.recommendationsPage+1)*this.recommendationsPageSize<this.recommendations.length&&this.recommendationsPage++}viewGenre(t){this.router.navigate(["/genre",t])}ngOnDestroy(){z(this.platformId)&&window.removeEventListener("resize",()=>{this.updateCastPageSize(),this.updateRecommendationsPageSize()})}static \u0275fac=function(e){return new(e||n)(E(oi),E(ye),E(Se),E(bi),E($t),E(ct),E(re))};static \u0275cmp=F({type:n,selectors:[["app-movie-detail"]],decls:4,vars:3,consts:[[1,"movie-detail-container"],["class","loading-container",4,"ngIf"],["class","movie-content",4,"ngIf"],["class","error-container",4,"ngIf"],[1,"loading-container"],[1,"movie-content"],["mat-icon-button","","aria-label","Volver",1,"back-button",3,"click"],[1,"movie-info"],[1,"poster-section"],[1,"movie-poster",3,"error","src","alt"],[1,"details-section"],[1,"movie-title"],["class","movie-tagline",4,"ngIf"],[1,"movie-meta"],[1,"meta-item"],["class","meta-item",4,"ngIf"],["class","genres",4,"ngIf"],[1,"trailer-section"],["mat-flat-button","","color","primary",1,"trailer-button",3,"click"],[1,"overview-section"],[1,"overview"],["class","additional-info",4,"ngIf"],["class","main-cast",4,"ngIf"],["class","recommendations-section",4,"ngIf"],[1,"movie-tagline"],[1,"country-flags"],[4,"ngFor","ngForOf"],[1,"country-flag",3,"src","alt","title"],["class","flag-separator",4,"ngIf"],[1,"flag-separator"],[1,"genres"],["class","genre-chip clickable",3,"click",4,"ngFor","ngForOf"],[1,"genre-chip","clickable",3,"click"],[1,"additional-info"],[1,"info-title"],["class","info-item",4,"ngIf"],["class","revenue-comparison",4,"ngIf"],[1,"info-item"],[1,"revenue-comparison"],[1,"progress-container"],[1,"progress-bar"],[1,"budget-segment"],[1,"revenue-segment"],[1,"progress-labels"],[1,"budget-label"],[1,"revenue-label"],[1,"main-cast"],[1,"cast-title"],[1,"cast-cards"],["class","cast-card","style","cursor: pointer;",3,"routerLink",4,"ngFor","ngForOf"],["class","cast-carousel-controls",4,"ngIf"],[1,"cast-card",2,"cursor","pointer",3,"routerLink"],[1,"cast-photo",3,"src","alt"],[1,"cast-info"],[1,"cast-name"],[1,"cast-character"],[1,"cast-carousel-controls"],["mat-icon-button","",3,"click","disabled"],[1,"cast-page-indicator"],[1,"recommendations-section"],[1,"error-container"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){e&1&&(c(0,"div",0),M(1,gl,4,0,"div",1)(2,Dl,43,16,"div",2)(3,Il,9,0,"div",3),d()),e&2&&(u(),g("ngIf",i.loading),u(),g("ngIf",!i.loading&&i.movie),u(),g("ngIf",!i.loading&&!i.movie))},dependencies:[K,Le,ae,kr,dt,Fr,ci,le,Ce,se,de,ce,ut,mt,ua,_i,fi,Yt],styles:['.movie-detail-container[_ngcontent-%COMP%]{min-height:100vh;background:var(--detail-bg)}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:#666}.movie-content[_ngcontent-%COMP%]{position:relative;min-height:100vh;background-image:var(--backdrop-image);background-size:cover;background-position:center;background-repeat:no-repeat;padding-top:150px}.movie-content[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(to bottom,#0000004d,#000000b3);z-index:0}.back-button[_ngcontent-%COMP%]{position:fixed;top:20px;left:20px;z-index:10;color:#fff;background:#00000080}.movie-info[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px;display:grid;grid-template-columns:300px 1fr;gap:40px;position:relative;z-index:1}.poster-section[_ngcontent-%COMP%]{display:flex;justify-content:center}.movie-poster[_ngcontent-%COMP%]{width:280px;height:420px;object-fit:cover;border-radius:12px;box-shadow:0 8px 25px #00000026}.details-section[_ngcontent-%COMP%]{background:var(--detail-card-bg);padding:32px;border-radius:12px;box-shadow:var(--detail-card-shadow)}.movie-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:300;margin:0 0 16px;color:var(--detail-title);line-height:1.2}.movie-tagline[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:400;font-style:italic;margin:0 0 24px;color:var(--detail-meta);line-height:1.3;opacity:.8}.movie-meta[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:24px;flex-wrap:wrap}.meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:var(--detail-meta);font-size:1rem}.meta-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f39c12}body.dark-mode[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f39c12!important}.country-flags[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.country-flag[_ngcontent-%COMP%]{width:24px;height:16px;border-radius:2px;object-fit:cover;cursor:help}.flag-separator[_ngcontent-%COMP%]{color:var(--detail-meta);font-size:.9rem;margin:0 2px}.genres[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:24px;flex-wrap:wrap}.genre-chip[_ngcontent-%COMP%]{background:var(--detail-genre-bg);color:var(--detail-genre-color)}.trailer-section[_ngcontent-%COMP%]{margin-bottom:24px}.trailer-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 24px;font-size:1rem;font-weight:500;border-radius:25px}.trailer-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:1.2rem;height:1.2rem}.overview-section[_ngcontent-%COMP%]{margin-bottom:12px}.overview-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:500;margin:0 0 16px;color:var(--detail-title)}.overview[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;color:var(--detail-overview);margin:0}.info-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:500;margin:0 0 16px;color:var(--detail-title)}.info-item[_ngcontent-%COMP%]{margin-bottom:12px;font-size:.95rem;color:var(--detail-info)}.info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--detail-info-strong)}.revenue-comparison[_ngcontent-%COMP%]{margin-top:10px;padding-top:10px}.progress-container[_ngcontent-%COMP%]{margin-top:12px}.progress-bar[_ngcontent-%COMP%]{display:flex;height:24px;border-radius:12px;overflow:hidden;background:var(--card-border);margin-bottom:8px}.budget-segment[_ngcontent-%COMP%]{background:#b71c1c;transition:width .3s ease;display:flex;align-items:center;justify-content:center;color:#fff;font-size:.75rem;font-weight:600;min-width:0}.revenue-segment[_ngcontent-%COMP%]{background:#33691e;transition:width .3s ease;display:flex;align-items:center;justify-content:center;color:#fff;font-size:.75rem;font-weight:600;min-width:0}.progress-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.85rem;color:var(--detail-info)}.budget-label[_ngcontent-%COMP%]{color:#b71c1c;font-weight:500}.revenue-label[_ngcontent-%COMP%]{color:#33691e;font-weight:500}.cast-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:500;margin:18px 0 16px;color:var(--detail-title)}.cast-cards[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap;justify-content:center}.cast-card[_ngcontent-%COMP%]{background:var(--card-bg);border:1px solid var(--card-border);border-radius:10px;box-shadow:0 2px 8px #00000012;padding:12px 10px 10px;display:flex;flex-direction:column;align-items:center;width:120px;min-height:210px;transition:all .3s ease}.cast-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #00000026;border-color:var(--primary-color)}.cast-photo[_ngcontent-%COMP%]{width:80px;height:110px;object-fit:cover;border-radius:6px;margin-bottom:8px;background:#eee}.cast-info[_ngcontent-%COMP%]{text-align:center}.cast-name[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500;color:var(--detail-title);display:block}.cast-character[_ngcontent-%COMP%]{font-size:.85rem;color:var(--detail-meta);font-style:italic;display:block}.cast-carousel-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:8px}.cast-page-indicator[_ngcontent-%COMP%]{font-size:1rem;color:var(--detail-meta);min-width:40px;text-align:center}.recommendations-section[_ngcontent-%COMP%]   .cast-card[_ngcontent-%COMP%]{width:180px;min-height:260px}.recommendations-section[_ngcontent-%COMP%]   .cast-photo[_ngcontent-%COMP%]{width:120px;height:180px}.error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.error-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#f44336;margin-bottom:16px}.error-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:var(--detail-title)}.error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:var(--detail-info)}@media (max-width: 768px){.movie-content[_ngcontent-%COMP%]{padding-top:100px}.movie-info[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:24px;margin-top:0;padding:20px}.poster-section[_ngcontent-%COMP%]{order:2}.movie-poster[_ngcontent-%COMP%]{width:240px;height:360px}.details-section[_ngcontent-%COMP%]{padding:24px}.movie-title[_ngcontent-%COMP%]{font-size:2rem}.movie-meta[_ngcontent-%COMP%]{gap:16px}.cast-cards[_ngcontent-%COMP%]{gap:10px}.cast-card[_ngcontent-%COMP%]{width:90px;min-height:170px;padding:8px 4px}.cast-photo[_ngcontent-%COMP%]{width:60px;height:80px}}@media (max-width: 480px){.movie-content[_ngcontent-%COMP%]{padding-top:250px}.movie-info[_ngcontent-%COMP%]{margin-top:0;padding:16px}.poster-section[_ngcontent-%COMP%]{display:none}.movie-poster[_ngcontent-%COMP%]{width:200px;height:300px}.details-section[_ngcontent-%COMP%]{padding:20px}.movie-title[_ngcontent-%COMP%]{font-size:1.8rem}.movie-meta[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.recommendations-section[_ngcontent-%COMP%]   .cast-cards[_ngcontent-%COMP%]{flex-direction:row;overflow-x:auto;align-items:flex-start;gap:12px;width:100%;padding-bottom:8px}.recommendations-section[_ngcontent-%COMP%]   .cast-card[_ngcontent-%COMP%]{width:70vw;min-width:180px;max-width:240px;min-height:200px;flex:0 0 auto}.recommendations-section[_ngcontent-%COMP%]   .cast-photo[_ngcontent-%COMP%]{width:60vw;max-width:180px;height:90vw;max-height:260px}}']})};function Al(n,t){if(n&1&&R(0,"div",2),n&2){let e=t.$implicit,i=t.index,r=b();Ne("background-image","url("+e+")"),oe("visible",i===r.currentIndex)}}var $i=class n{constructor(t,e){this.tmdb=t;this.platformId=e;this.isBrowser=z(this.platformId)}backdropUrls=[];currentIndex=0;timerSub;fadeInterval=5e3;isBrowser;ngOnInit(){this.isBrowser&&this.loadPopularMovies()}loadPopularMovies(){this.tmdb.getPopularMovies(1).subscribe({next:t=>{this.backdropUrls=t.results.map(e=>e.backdrop_path).filter(Boolean).map(e=>this.tmdb.getHighQualityImageUrl(e)),this.startAnimation()},error:t=>{console.error("Error cargando pel\xEDculas populares:",t)}})}startAnimation(){this.backdropUrls.length>1&&(this.timerSub=ti(this.fadeInterval).subscribe(()=>{this.currentIndex=(this.currentIndex+1)%this.backdropUrls.length}))}ngOnDestroy(){this.timerSub?.unsubscribe()}static \u0275fac=function(e){return new(e||n)(E(Se),E(re))};static \u0275cmp=F({type:n,selectors:[["app-login-background"]],decls:2,vars:1,consts:[[1,"background-wrapper"],["class","background-image",3,"visible","backgroundImage",4,"ngFor","ngForOf"],[1,"background-image"]],template:function(e,i){e&1&&(c(0,"div",0),M(1,Al,1,4,"div",1),d()),e&2&&(u(),g("ngForOf",i.backdropUrls))},dependencies:[K,Le],styles:[".background-wrapper[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-1;overflow:hidden;pointer-events:none}.background-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;height:100vh;background-size:cover;background-position:center;opacity:0;transition:opacity 1.5s ease;will-change:opacity}.background-image.visible[_ngcontent-%COMP%]{opacity:1;z-index:0}"]})};function Rl(n,t){if(n&1&&(c(0,"div",13),p(1),d()),n&2){let e=b();u(),j(e.error)}}var Yi=class n{constructor(t,e,i,r){this.supabaseService=t;this.router=e;this.location=i;this.platformId=r}email="";password="";error=null;loading=!1;ngOnInit(){z(this.platformId)&&this.scrollToTop()}scrollToTop(){z(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}login(){return ot(this,null,function*(){this.loading=!0,this.error=null;let{error:t}=yield this.supabaseService.signIn(this.email,this.password);this.loading=!1,t?this.error=t.message:this.router.navigate(["/"])})}register(){this.router.navigate(["/register"],{queryParams:{fromLogin:"true"}})}goBack(){this.location.back()}static \u0275fac=function(e){return new(e||n)(E(Ve),E(ye),E(ct),E(re))};static \u0275cmp=F({type:n,selectors:[["app-login"]],decls:27,vars:4,consts:[["loginForm","ngForm"],["mat-icon-button","","aria-label","Volver",1,"back-button",3,"click"],[1,"login-container"],[3,"ngSubmit"],[1,"form-group"],["appearance","outline",1,"full-width"],["matInput","","id","email","name","email","type","email","required","",3,"ngModelChange","ngModel"],["matInput","","id","password","name","password","type","password","required","",3,"ngModelChange","ngModel"],["type","submit","mat-raised-button","","color","primary",1,"login-btn",3,"disabled"],["class","error",4,"ngIf"],[1,"login-actions"],[1,"forgot-password",3,"click"],["type","button","mat-button","",1,"action-btn",3,"click"],[1,"error"]],template:function(e,i){if(e&1){let r=L();R(0,"app-login-background"),c(1,"button",1),w("click",function(){return P(r),O(i.goBack())}),c(2,"mat-icon"),p(3,"arrow_back"),d()(),c(4,"div",2)(5,"form",3,0),w("ngSubmit",function(){return P(r),O(i.login())}),c(7,"h2"),p(8,"Iniciar sesi\xF3n"),d(),c(9,"div",4)(10,"mat-form-field",5)(11,"mat-label"),p(12,"Email"),d(),c(13,"input",6),Oe("ngModelChange",function(a){return P(r),Pe(i.email,a)||(i.email=a),O(a)}),d()()(),c(14,"div",4)(15,"mat-form-field",5)(16,"mat-label"),p(17,"Contrase\xF1a"),d(),c(18,"input",7),Oe("ngModelChange",function(a){return P(r),Pe(i.password,a)||(i.password=a),O(a)}),d()()(),c(19,"button",8),p(20,"Entrar"),d(),M(21,Rl,2,1,"div",9),c(22,"div",10)(23,"a",11),w("click",function(a){return P(r),O(a.preventDefault())}),p(24,"\xBFOlvidaste tu contrase\xF1a?"),d(),c(25,"button",12),w("click",function(){return P(r),O(i.register())}),p(26,"Registrarse"),d()()()()}e&2&&(u(13),ke("ngModel",i.email),u(5),ke("ngModel",i.password),u(),g("disabled",i.loading),u(2),g("ngIf",i.error))},dependencies:[bt,gi,ht,ft,ui,hi,_t,pi,K,ae,dt,de,ce,le,Ce,se,vt,pt,di,Ct,yt,$i],styles:[".back-button[_ngcontent-%COMP%]{position:fixed;top:20px;left:20px;z-index:10;color:#fff;background:#00000080;border-radius:50%}.login-container[_ngcontent-%COMP%]{max-width:400px;margin:10rem auto 0;padding:32px 24px;background:#d1d1d1;border-radius:8px;box-shadow:0 4px 16px #0000001a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}  .dark-mode .login-container{background:var(--card-bg);border:none;box-shadow:0 2px 8px #00000014}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;color:var(--text-color)}label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;color:var(--text-color)}input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid var(--card-border);border-radius:4px;background:var(--card-bg);color:var(--text-color)}.login-btn[_ngcontent-%COMP%]{width:50%;color:#fff;border:none;border-radius:50px;font-size:1rem;cursor:pointer;margin:0 auto;display:block;align-items:center;justify-content:center}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.9;cursor:not-allowed}.error[_ngcontent-%COMP%]{color:#f44336;margin-top:12px;text-align:center}.success[_ngcontent-%COMP%]{color:#4caf50;margin-top:12px;text-align:center}.login-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.forgot-password[_ngcontent-%COMP%]{text-align:center;width:100%;margin-top:8px}.action-btn[_ngcontent-%COMP%]{color:var(--text-color)}  .dark-mode .action-btn{color:#fff!important}.full-width[_ngcontent-%COMP%]{width:100%}  .mat-mdc-form-field-infill,   .mat-mdc-form-field,   .mat-mdc-form-field .mat-mdc-form-field-focus-overlay,   .mat-mdc-form-field .mat-mdc-text-field-wrapper,   .mat-mdc-form-field .mat-mdc-form-field-flex,   .mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay,   .mat-mdc-form-field.mat-focused .mat-mdc-text-field-wrapper,   .dark-mode .mat-mdc-form-field-infill,   .dark-mode .mat-mdc-form-field,   .dark-mode .mat-mdc-form-field .mat-mdc-form-field-focus-overlay,   .dark-mode .mat-mdc-form-field .mat-mdc-text-field-wrapper,   .dark-mode .mat-mdc-form-field .mat-mdc-form-field-flex,   .dark-mode .mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay,   .dark-mode .mat-mdc-form-field.mat-focused .mat-mdc-text-field-wrapper{background:transparent!important;background-color:transparent!important}  .dark-mode .mat-mdc-form-field .mat-mdc-form-field-label,   .dark-mode .mat-mdc-form-field .mat-mdc-form-field-label.mat-mdc-form-field-label-always-float,   .dark-mode .mat-mdc-form-field input.mat-mdc-input-element,   .dark-mode .mat-mdc-form-field .mat-mdc-form-field-label-wrapper,   .dark-mode .mat-mdc-form-field .mat-mdc-form-field-label-wrapper .mat-mdc-form-field-label,   .dark-mode mat-label,   .dark-mode .mat-mdc-form-field mat-label,   .dark-mode .mat-mdc-form-field .mat-mdc-form-field-label-wrapper mat-label{color:#ffffffde!important}"]})};function Fl(n,t){if(n&1&&R(0,"div",2),n&2){let e=t.$implicit,i=t.index,r=b();Ne("background-image","url("+e+")"),oe("visible",i===r.currentIndex)}}var Xt=class n{constructor(t,e){this.tmdb=t;this.platformId=e;this.isBrowser=z(this.platformId)}backdropUrls=[];currentIndex=0;timerSub;fadeInterval=5e3;isBrowser;ngOnInit(){this.isBrowser&&this.loadPopularMovies()}loadPopularMovies(){console.log("RegisterBackground: Cargando pel\xEDculas populares..."),this.tmdb.getPopularMovies(1).subscribe({next:t=>{this.backdropUrls=t.results.map(e=>e.backdrop_path).filter(Boolean).map(e=>this.tmdb.getHighQualityImageUrl(e)),console.log("RegisterBackground: Pel\xEDculas cargadas:",this.backdropUrls.length),this.startAnimation()},error:t=>{console.error("Error cargando pel\xEDculas populares:",t)}})}startAnimation(){console.log("RegisterBackground: Iniciando animaci\xF3n con",this.backdropUrls.length,"im\xE1genes"),this.backdropUrls.length>1?this.timerSub=ti(this.fadeInterval).subscribe(()=>{this.currentIndex=(this.currentIndex+1)%this.backdropUrls.length,console.log("RegisterBackground: Cambiando a imagen",this.currentIndex)}):this.backdropUrls.length===1?console.log("RegisterBackground: Solo una imagen disponible"):console.log("RegisterBackground: No hay im\xE1genes disponibles")}ngOnDestroy(){this.timerSub?.unsubscribe()}static \u0275fac=function(e){return new(e||n)(E(Se),E(re))};static \u0275cmp=F({type:n,selectors:[["app-register-background"]],decls:2,vars:1,consts:[[1,"background-wrapper"],["class","background-image",3,"visible","backgroundImage",4,"ngFor","ngForOf"],[1,"background-image"]],template:function(e,i){e&1&&(c(0,"div",0),M(1,Fl,1,4,"div",1),d()),e&2&&(u(),g("ngForOf",i.backdropUrls))},dependencies:[K,Le],styles:[".background-wrapper[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-1;overflow:hidden;pointer-events:none}.background-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;height:100vh;background-size:cover;background-position:center;opacity:0;transition:opacity 1.5s ease;will-change:opacity}.background-image.visible[_ngcontent-%COMP%]{opacity:1;z-index:0}"]})};function Nl(n,t){n&1&&(c(0,"div",13),p(1,"Las contrase\xF1as no coinciden"),d())}function Ll(n,t){if(n&1&&(c(0,"div",13),p(1),d()),n&2){let e=b();u(),j(e.error)}}function Bl(n,t){if(n&1&&(c(0,"div",14),p(1),d()),n&2){let e=b();u(),j(e.success)}}var Xi=class n{constructor(t,e,i,r){this.supabaseService=t;this.router=e;this.route=i;this.location=r}registerBackground;email="";password="";confirmPassword="";showPassword=!1;showConfirmPassword=!1;error=null;success=null;loading=!1;hide=dr(!0);ngOnInit(){this.scrollToTop(),this.route.queryParams.subscribe(t=>{t.fromLogin==="true"&&(console.log("RegisterComponent: Detectada navegaci\xF3n desde login"),setTimeout(()=>{this.triggerBackgroundAnimation()},300))})}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}ngAfterViewInit(){console.log("RegisterComponent: ngAfterViewInit ejecutado"),setTimeout(()=>{console.log("RegisterComponent: Intentando iniciar animaci\xF3n del fondo"),this.registerBackground?(console.log("RegisterComponent: Componente de fondo encontrado"),this.registerBackground.startAnimation()):console.log("RegisterComponent: Componente de fondo no encontrado")},100)}triggerBackgroundAnimation(){console.log("RegisterComponent: Forzando reinicio de animaci\xF3n del fondo"),this.registerBackground&&this.registerBackground.startAnimation()}togglePasswordVisibility(t){this.hide.set(!this.hide()),t.stopPropagation()}passwordsMatch(){return this.password===this.confirmPassword&&this.password.length>0}register(){return ot(this,null,function*(){if(!this.passwordsMatch()){this.error="Las contrase\xF1as no coinciden";return}this.loading=!0,this.error=null,this.success=null;let{error:t,data:e}=yield this.supabaseService.signUp(this.email,this.password);this.loading=!1,t?this.error=t.message:this.success="Registro exitoso. Revisa tu correo para confirmar tu cuenta."})}goBack(){this.location.back()}onNavigateFromLogin(){console.log("RegisterComponent: Navegaci\xF3n desde login detectada"),setTimeout(()=>{this.triggerBackgroundAnimation()},200)}static \u0275fac=function(e){return new(e||n)(E(Ve),E(ye),E(oi),E(ct))};static \u0275cmp=F({type:n,selectors:[["app-register"]],viewQuery:function(e,i){if(e&1&&lt(Xt,5),e&2){let r;$e(r=Ye())&&(i.registerBackground=r.first)}},decls:30,vars:9,consts:[["registerBackground",""],["registerForm","ngForm"],["mat-icon-button","","aria-label","Volver",1,"back-button",3,"click"],[1,"register-container"],[1,"example-container",3,"ngSubmit"],[1,"form-group"],["appearance","outline",1,"full-width"],["matInput","","id","email","name","email","type","email","required","",3,"ngModelChange","ngModel"],["matInput","","id","password","name","password","required","",3,"ngModelChange","type","ngModel"],["matInput","","id","confirmPassword","name","confirmPassword","required","",3,"ngModelChange","type","ngModel"],["class","error",4,"ngIf"],["type","submit","mat-raised-button","","color","primary",1,"register-btn",3,"disabled"],["class","success",4,"ngIf"],[1,"error"],[1,"success"]],template:function(e,i){if(e&1){let r=L();R(0,"app-register-background",null,0),c(2,"button",2),w("click",function(){return P(r),O(i.goBack())}),c(3,"mat-icon"),p(4,"arrow_back"),d()(),c(5,"div",3)(6,"form",4,1),w("ngSubmit",function(){return P(r),O(i.register())}),c(8,"h2"),p(9,"Registrarse"),d(),c(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),p(13,"Email"),d(),c(14,"input",7),Oe("ngModelChange",function(a){return P(r),Pe(i.email,a)||(i.email=a),O(a)}),d()()(),c(15,"div",5)(16,"mat-form-field",6)(17,"mat-label"),p(18,"Contrase\xF1a"),d(),c(19,"input",8),Oe("ngModelChange",function(a){return P(r),Pe(i.password,a)||(i.password=a),O(a)}),d()()(),c(20,"div",5)(21,"mat-form-field",6)(22,"mat-label"),p(23,"Confirmar Contrase\xF1a"),d(),c(24,"input",9),Oe("ngModelChange",function(a){return P(r),Pe(i.confirmPassword,a)||(i.confirmPassword=a),O(a)}),d()()(),M(25,Nl,2,0,"div",10),c(26,"button",11),p(27,"Crear cuenta"),d(),M(28,Ll,2,1,"div",10)(29,Bl,2,1,"div",12),d()()}e&2&&(u(14),ke("ngModel",i.email),u(5),g("type",i.showPassword?"text":"password"),ke("ngModel",i.password),u(5),g("type",i.showConfirmPassword?"text":"password"),ke("ngModel",i.confirmPassword),u(),g("ngIf",i.confirmPassword&&!i.passwordsMatch()),u(),g("disabled",i.loading||!i.passwordsMatch()),u(2),g("ngIf",i.error),u(),g("ngIf",i.success))},dependencies:[bt,gi,ht,ft,ui,hi,_t,pi,K,ae,dt,de,ce,le,Ce,se,vt,pt,di,Ct,yt,Xt],styles:[".back-button[_ngcontent-%COMP%]{position:fixed;top:20px;left:20px;z-index:10;color:#fff;background:#00000080;border-radius:50%}.register-container[_ngcontent-%COMP%]{max-width:400px;margin:10rem auto 0;padding:32px 24px;background:#d1d1d1;border-radius:8px;box-shadow:0 4px 16px #0000001a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;color:var(--text-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:8px}.register-btn[_ngcontent-%COMP%]{width:50%;color:#fff;border:none;border-radius:50px;font-size:1rem;cursor:pointer;margin:8px auto 0;display:block;align-items:center;justify-content:center}.register-btn[_ngcontent-%COMP%]:disabled{opacity:.9;cursor:not-allowed}.error[_ngcontent-%COMP%]{color:#f44336;text-align:center}.success[_ngcontent-%COMP%]{color:#4caf50;text-align:center}.full-width[_ngcontent-%COMP%]{width:100%}  .dark-mode .mat-mdc-form-field .mat-mdc-form-field-label{color:#ffffffde!important}  .dark-mode .mat-mdc-form-field .mat-mdc-form-field-label.mat-mdc-form-field-label-always-float{color:#ffffffde!important}  .dark-mode .mat-mdc-form-field input.mat-mdc-input-element{color:#ffffffde!important}  .dark-mode .mat-mdc-form-field .mat-mdc-form-field-label-wrapper{color:#ffffffde!important}  .dark-mode .mat-mdc-form-field .mat-mdc-form-field-label-wrapper .mat-mdc-form-field-label{color:#ffffffde!important}  .dark-mode mat-label{color:#ffffffde!important}  .dark-mode .mat-mdc-form-field mat-label{color:#ffffffde!important}  .dark-mode .mat-mdc-form-field .mat-mdc-form-field-label-wrapper mat-label{color:#ffffffde!important}  .dark-mode .mat-mdc-form-field .mat-mdc-form-field-label-wrapper .mat-mdc-form-field-label mat-label{color:#ffffffde!important}  .dark-mode .mat-mdc-form-field.mat-focused .mat-mdc-form-field-label{color:#ffffffde!important}  .dark-mode .mat-mdc-form-field.mat-form-field-should-float .mat-mdc-form-field-label{color:#ffffffde!important}  .dark-mode .register-container{background:var(--card-bg);border:none;box-shadow:0 2px 8px #00000014}"]})};var Zi=class n{constructor(t,e){this.supabaseService=t;this.router=e}canActivate(){return rr(500).pipe(sr(()=>this.supabaseService.currentUser$),Re(1),nr(t=>(console.log("AuthGuard - User:",t?t.email:"null"),t!==null?!0:(console.log("AuthGuard - Redirecting to login"),this.router.navigate(["/login"]),!1))),ar(t=>(console.error("AuthGuard - Error:",t),this.router.navigate(["/login"]),Jt(!1))))}static \u0275fac=function(e){return new(e||n)(we(Ve),we(ye))};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ma=[{path:"",component:Gi},{path:"movie/:id",component:Wi},{path:"cast/:id",loadComponent:()=>import("./chunk-G753NM6I.js").then(n=>n.CastDetailComponent)},{path:"genre/:id",loadComponent:()=>import("./chunk-JW6BB7ZT.js").then(n=>n.GenreComponent)},{path:"login",component:Yi},{path:"register",component:Xi},{path:"my-account",loadComponent:()=>import("./chunk-CRKE4LOR.js").then(n=>n.MyAccountComponent),canActivate:[Zi]},{path:"**",redirectTo:""}];var wa={providers:[Nr(Ma),Dr(Ir()),na()]};var Ji=class n{constructor(t){this.themeService=t}title="FilmNest";ngOnInit(){}static \u0275fac=function(e){return new(e||n)(E(Et))};static \u0275cmp=F({type:n,selectors:[["app-root"]],decls:11,vars:0,consts:[[1,"main-wrapper"],[1,"main-content"],[1,"footer"],["href","https://github.com/xRev4n","target","_blank","rel","noopener noreferrer"],["href","https://github.com/xRev4n/FilmNest","target","_blank","rel","noopener noreferrer"],[1,"fa-brands","fa-github"]],template:function(e,i){e&1&&(c(0,"div",0)(1,"main",1),R(2,"router-outlet"),d(),c(3,"footer",2)(4,"span"),p(5," \xA9 2025 FilmNest | Desarrollado por"),c(6,"a",3),p(7,"xRev4n"),d()(),c(8,"a",4),R(9,"i",5),p(10," Ver repositorio en GitHub "),d()()())},dependencies:[Rr],styles:["[_nghost-%COMP%]{display:block;min-height:100vh}main[_ngcontent-%COMP%]{min-height:100vh}*[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:var(--background-color);color:var(--text-color)}body.dark-mode[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]{background:#232323!important;border-radius:8px}body.dark-mode[_ngcontent-%COMP%]   .mat-button-toggle-button[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff!important}.footer[_ngcontent-%COMP%]{width:100%;background:#232323;color:#fafafa;text-align:center;padding:16px 0;font-size:1rem;position:relative;left:unset;bottom:unset;z-index:1000;display:flex;flex-direction:column;gap:8px}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#90caf9;text-decoration:none;margin-left:8px}body.dark-mode[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{background:#181818;color:#fafafa}body.dark-mode[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#90caf9}@media (max-width: 600px){.footer[_ngcontent-%COMP%]{font-size:.9rem;padding:12px 0}}"]})};Or(Ji,wa).catch(n=>console.error(n));
